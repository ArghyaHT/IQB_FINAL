import{cP as _,x as c,cQ as p,cR as y,_ as r,cS as g,cT as U,bk as l,cU as E,cV as m,cW as R,cX as f}from"./index-DFA1I3My.js";const A=(u,i,o)=>async s=>{var n,e,d,a;try{s({type:g});const{data:t}=await c.post("/api/queue/barberServedQueue",u);s({type:U,payload:t}),r.success("Customer serve successfully",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),o({open:!1,data:{}});const{data:S}=await c.get(`/api/queue/getQListBySalonId?salonId=${i}`);s({type:l,payload:S})}catch(t){if(((n=t==null?void 0:t.response)==null?void 0:n.status)===500){s({type:E,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}s({type:E,payload:(e=t==null?void 0:t.response)==null?void 0:e.data}),r.error((a=(d=t==null?void 0:t.response)==null?void 0:d.data)==null?void 0:a.message,{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}})}},b=(u,i)=>async o=>{var s,n,e,d;try{o({type:m});const{data:a}=await c.post("/api/queue/cancelQ",u);o({type:R,payload:a}),r.success("Customer cancel successfully",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});const{data:t}=await c.get(`/api/queue/getQListBySalonId?salonId=${i}`);o({type:l,payload:t})}catch(a){if(((s=a==null?void 0:a.response)==null?void 0:s.status)===500){o({type:f,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}o({type:f,payload:(n=a==null?void 0:a.response)==null?void 0:n.data}),r.error((d=(e=a==null?void 0:a.response)==null?void 0:e.data)==null?void 0:d.message,{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}})}},C=(u,i)=>async o=>{var s,n;try{o({type:_});const{data:e}=await c.post("/api/queueHistory/getQueueHistoryBySalonId",{salonId:u},{signal:i});o({type:p,payload:e})}catch(e){if(((s=e==null?void 0:e.response)==null?void 0:s.status)===500){o({type:y,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}e.name!=="CanceledError"&&o({type:y,payload:(n=e==null?void 0:e.response)==null?void 0:n.data})}};export{b as a,A as b,C as g};
