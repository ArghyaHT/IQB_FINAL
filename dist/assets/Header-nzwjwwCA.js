import{j as e,a$ as W,b0 as X,b1 as Y,b2 as Z,b3 as P,b4 as ee,b5 as oe,b as c,r as i,u as ne,c as se,a as ae,d as te,b6 as ie,b7 as R,b8 as L,b9 as O,ba as le}from"./index-AHqq0E29.js";import{S as de}from"./index-Dkm7bEPu.js";import{e as H}from"./AuthAction-DJPwc__3.js";import{g as re}from"./SalonAction-Biad573U.js";import{a as ce,b as _e}from"./AdminHeaderAction-igazujlz.js";import{d as be}from"./DashboardAction-CRFIWOOf.js";import{C as he}from"./ClickAwayListener-DAEYeS7-.js";import{M as me}from"./Modal-DA7WooJg.js";const ue=[{id:1,title:"Dashboard",icon:e.jsx(W,{}),url:"/admin-dashboard"},{id:2,title:"Salons",icon:e.jsx(X,{}),url:"/admin-salon"},{id:3,title:"Barbers",icon:e.jsx(Y,{}),url:"/admin-barber"},{id:4,title:"Customers",icon:e.jsx(Z,{}),url:"/admin-customer"},{id:5,title:"Advertisements",icon:e.jsx(P,{}),url:"/admin-advertise"},{id:6,title:"Queuelist",icon:e.jsx(ee,{}),url:"/admin-queue"},{id:7,title:"Queue History",icon:e.jsx(oe,{}),url:"/admin-quehistory"}],ge="_admin_dashboard_header_wrapper_10sit_1",pe="_choose_salon_div_10sit_12",xe="_profile_wrapper_10sit_16",ve="_dashboard_salon_list_dropdown_10sit_100",je="_mobile_choose_salon_div_10sit_198",fe="_dashboard_mobile_menu_10sit_202",Ae="_dashboard_mobile_sidebar_container_10sit_206",Ie="_profile_drop_container_10sit_215",ke="_salon_toggle_btn_container_10sit_288",we="_salononline_toggle_btn_10sit_303",ye="_salononline_toggle_active_10sit_320",Se="_salononline_toggle_inactive_10sit_330",Ce="_salononline_toggle_btn_text_10sit_340",Ne="_salononline_toggle_btn_text_active_10sit_353",$e="_salononline_toggle_btn_text_inactive_10sit_359",Ee="_chooseSalon_modal_10sit_397",De="_chooseSalon_model_content_10sit_408",Me="_mobile_dashboard_salon_list_dropdown_10sit_476",Re="_dashboard_mobile_item_10sit_601",Le="_dashboard_mobile_item_active_10sit_638",Oe="_dashboard_mobile_siderbar_content_container_10sit_652",He="_dashboard_mobile_sidebar_active_10sit_657",Ge="_dashboard_mobile_sidebar_inactive_10sit_663",Te="_dashboard_theme_container_10sit_668",s={admin_dashboard_header_wrapper:ge,choose_salon_div:pe,profile_wrapper:xe,dashboard_salon_list_dropdown:ve,mobile_choose_salon_div:je,dashboard_mobile_menu:fe,dashboard_mobile_sidebar_container:Ae,profile_drop_container:Ie,salon_toggle_btn_container:ke,salononline_toggle_btn:we,salononline_toggle_active:ye,salononline_toggle_inactive:Se,salononline_toggle_btn_text:Ce,salononline_toggle_btn_text_active:Ne,salononline_toggle_btn_text_inactive:$e,chooseSalon_modal:Ee,chooseSalon_model_content:De,mobile_dashboard_salon_list_dropdown:Me,dashboard_mobile_item:Re,dashboard_mobile_item_active:Le,dashboard_mobile_siderbar_content_container:Oe,dashboard_mobile_sidebar_active:He,dashboard_mobile_sidebar_inactive:Ge,dashboard_theme_container:Te},Ye=()=>{var M;const n=c(o=>o.AdminLoggedInMiddleware.entiredata.user[0]),x=c(o=>o.AdminLoggedInMiddleware.adminEmail),G=c(o=>o.AdminLoggedInMiddleware.adminSalonId),[N,v]=i.useState(!1),[T,qe]=i.useState(!1),j=i.useRef();i.useEffect(()=>{let o=r=>{j.current&&!j.current.contains(r.target)&&(console.log(j.current.contains(r.target)),v(!1))};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[q,f]=i.useState(!1),[z,m]=i.useState(!1),l=ne(),_=se(),u=ae(),A=i.useRef();i.useEffect(()=>{const o=r=>{A.current&&!A.current.contains(r.target)&&m(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[B,I]=i.useState(!1),k=i.useRef(),w=i.useRef();i.useEffect(()=>{const o=r=>{k.current&&w.current&&!k.current.contains(r.target)&&!w.current.contains(r.target)&&I(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const Q=async()=>{l(H(u))},y=i.useRef(new AbortController);i.useEffect(()=>{const o=new AbortController;return y.current=o,l(re(x,o.signal)),()=>{y.current&&y.current.abort()}},[x,l]);const F=c(o=>o.getAdminSalonList),{loading:b,resolve:h,salons:a}=F,$=o=>{l({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:o.salonName,chooseSalonId:o.salonId}}),v(!1)},t=c(o=>o.adminSetSalon),E=()=>{const o={salonId:t==null?void 0:t.chooseSalonId,adminEmail:x};l(_e(o))},S=i.useRef(new AbortController);i.useEffect(()=>{if(n){const o=new AbortController;return S.current=o,l(ce(x,o.signal)),()=>{S.current&&S.current.abort()}}},[n,l]);const K=c(o=>o.adminApplySalon),{loading:D}=K,V=c(te),J=c(o=>o.adminGetDefaultSalon),{loading:ze,resolve:Be,response:g}=J;i.useEffect(()=>{g&&C(g==null?void 0:g.isOnline)},[g]);const[p,C]=i.useState(!1),U=()=>{const o=!p;C(o),l(be({salonId:G,isOnline:o},C,o))},d=V==="On";return e.jsxs("div",{className:`${s.admin_dashboard_header_wrapper} ${d&&s.dark}`,children:[(_==null?void 0:_.pathname)==="/admin-dashboard"?e.jsxs("div",{className:`${s.choose_salon_div} ${d&&s.dark}`,children:[e.jsx("p",{}),(n==null?void 0:n.salonId)==0?e.jsx("div",{children:"No Salon Present"}):e.jsxs(e.Fragment,{children:[e.jsx(he,{onClickAway:()=>v(!1),children:e.jsxs("div",{onClick:()=>v(o=>!o),children:[e.jsx("p",{children:t==null?void 0:t.currentActiveSalon}),e.jsx("div",{children:e.jsx(ie,{})}),e.jsx("div",{className:`${s.dashboard_salon_list_dropdown} ${d&&s.dark}`,style:{opacity:N?"1":"0",zIndex:N?"2":"-1",transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"15rem"},children:b?e.jsx("p",{children:"Loading..."}):!h||(a==null?void 0:a.length)===0?e.jsx("p",{children:"No Salon Present"}):a.map(o=>e.jsx("p",{onClick:()=>$(o),style:{background:o.salonId===(n==null?void 0:n.salonId)?"#000":void 0,color:o.salonId===(n==null?void 0:n.salonId)?"var(--primary-text-light-color1)":void 0,boxShadow:o.salonId===(n==null?void 0:n.salonId)?"0px 1px 6px rgba(0,0,0,0.2)":void 0},children:o.salonName},o._id))})]})}),!b&&h&&e.jsx("button",{onClick:E,disabled:!!((n==null?void 0:n.salonId)==(t==null?void 0:t.chooseSalonId)||D),style:{cursor:(n==null?void 0:n.salonId)==(t==null?void 0:t.chooseSalonId)&&"not-allowed"},children:"Apply"})]})]}):e.jsx("div",{}),(_==null?void 0:_.pathname)==="/admin-dashboard"?e.jsx("div",{className:s.mobile_choose_salon_div,children:e.jsx("button",{onClick:()=>f(o=>!o),children:"Select Salon"})}):e.jsx("div",{}),e.jsx(me,{open:q,onClose:()=>f(!1),"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:e.jsx("section",{className:s.chooseSalon_modal,children:e.jsxs("div",{className:`${s.chooseSalon_model_content} ${d&&s.dark}`,children:[e.jsx("button",{onClick:()=>f(!1),children:e.jsx(R,{})}),e.jsx("p",{children:"Choose Salon"}),e.jsx("div",{children:e.jsx("p",{children:t==null?void 0:t.currentActiveSalon})}),e.jsx("div",{className:s.mobile_dashboard_salon_list_dropdown,style:{opacity:1,zIndex:2,transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"20rem"},children:b&&!h?e.jsx("p",{children:"No Salon Present"}):!b&&h&&(a==null?void 0:a.length)>0?a.map(o=>e.jsx("p",{onClick:()=>$(o),style:{background:o.salonId==(n==null?void 0:n.salonId)&&"#000",color:o.salonId==(n==null?void 0:n.salonId)&&"var(--primary-text-light-color1)"},children:o.salonName},o._id)):!b&&h&&(a==null?void 0:a.length)==0?e.jsx("p",{children:"No Salon Present"}):!b&&!h&&e.jsx("p",{children:"No Salon Present"})}),(n==null?void 0:n.salonId)!==0&&!b&&h&&e.jsx("button",{onClick:E,disabled:!!((n==null?void 0:n.salonId)==(t==null?void 0:t.chooseSalonId)||D),children:"Apply"})]})})}),e.jsxs("div",{className:`${s.profile_wrapper} ${d&&s.dark}`,children:[(n==null?void 0:n.salonId)==0?e.jsx("div",{}):e.jsxs("div",{className:s.salon_toggle_btn_container,style:{outline:p?"1px solid limegreen":"1px solid red"},children:[e.jsx("p",{className:`${s.salononline_toggle_btn_text} ${p?s.salononline_toggle_btn_text_active:s.salononline_toggle_btn_text_inactive}`,children:p?"Online":"Offline"}),e.jsx("button",{className:`${s.salononline_toggle_btn} ${p?s.salononline_toggle_active:s.salononline_toggle_inactive}`,onClick:U})]}),T?e.jsx(de,{count:1,height:"4.5rem",width:"4.5rem",style:{borderRadius:"50%"}}):e.jsxs("div",{children:[e.jsx("img",{src:(M=n==null?void 0:n.profile[0])==null?void 0:M.url,onError:()=>setSrc("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),alt:"admin-profile",onClick:()=>I(o=>!o),ref:k}),B&&e.jsxs("div",{ref:w,className:`${s.profile_drop_container} ${d&&s.dark}`,children:[e.jsxs("div",{onClick:()=>{u("/admin-dashboard/editprofile"),I(!1)},children:[e.jsx("div",{children:e.jsx(L,{})}),e.jsx("div",{children:"My Profile"})]}),e.jsxs("div",{onClick:Q,children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsx("div",{children:"Logout"})]})]})]}),e.jsx("div",{onClick:()=>m(!0),className:`${s.dashboard_mobile_menu} ${d&&s.dark}`,children:e.jsx(le,{})})]}),e.jsxs("div",{className:`${s.dashboard_mobile_sidebar_container} ${z?s.dashboard_mobile_sidebar_active:s.dashboard_mobile_sidebar_inactive} ${d&&s.dark}`,ref:A,children:[e.jsx("button",{onClick:()=>m(!1),children:e.jsx(R,{})}),e.jsxs("main",{className:s.dashboard_mobile_siderbar_content_container,children:[ue.map(o=>e.jsxs("div",{className:`${s.dashboard_mobile_item} ${_.pathname.includes(o.url)&&s.dashboard_mobile_item_active}`,onClick:()=>{u(o==null?void 0:o.url),m(!1)},children:[e.jsx("div",{style:{},children:o.icon}),e.jsx("p",{style:{},children:o.title})]},o.id)),e.jsxs("div",{onClick:()=>{m(!1),u("/admin-dashboard/editprofile")},className:s.dashboard_mobile_item,children:[e.jsx("div",{children:e.jsx(L,{})}),e.jsx("p",{children:"Profile"})]}),e.jsxs("div",{onClick:()=>l(H(u)),className:s.dashboard_mobile_item,children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsx("p",{children:"Logout"})]})]})]})]})};export{Ye as D,ue as m};
