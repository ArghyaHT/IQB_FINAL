import{j as e,b4 as Z,b5 as P,b6 as ee,b7 as oe,b8 as ne,b9 as se,ba as ae,bb as te,u as c,r as i,a as le,c as ie,b as de,d as re,bc as ce,bd as L,S as _e,be as H,bf as G,bg as be,e as me,M as he,D as ue,g as ge}from"./index-zklAvn-K.js";import{e as T}from"./AuthAction-1Krm_vi9.js";import{g as pe}from"./SalonAction-DJXwm9VE.js";import{a as xe,b as ve}from"./AdminHeaderAction-6GD4m-Rr.js";import{d as je}from"./DashboardAction-DYpfsFW3.js";import{C as ke}from"./ClickAwayListener-w_Zaljtg.js";import{M as fe}from"./Modal-KFQkxZ6b.js";const Ae=[{id:1,title:"Dashboard",icon:e.jsx(Z,{}),url:"/admin-dashboard"},{id:2,title:"Salons",icon:e.jsx(P,{}),url:"/admin-salon"},{id:3,title:"Barbers",icon:e.jsx(ee,{}),url:"/admin-barber"},{id:4,title:"Customers",icon:e.jsx(oe,{}),url:"/admin-customer"},{id:5,title:"Advertisements",icon:e.jsx(ne,{}),url:"/admin-advertise"},{id:6,title:"Queuelist",icon:e.jsx(se,{}),url:"/admin-queue"},{id:7,title:"Queue History",icon:e.jsx(ae,{}),url:"/admin-quehistory"},{id:8,title:"Appointments",icon:e.jsx(te,{}),url:"/admin-appointments"}],Ne="_admin_dashboard_header_wrapper_19csk_1",$e="_choose_salon_div_19csk_10",Ie="_profile_wrapper_19csk_14",we="_dashboard_salon_list_dropdown_19csk_93",ye="_salonName_active_19csk_144",Se="_mobile_choose_salon_div_19csk_170",Ce="_dashboard_mobile_menu_19csk_174",De="_dashboard_mobile_sidebar_container_19csk_178",Ee="_profile_drop_container_19csk_187",Oe="_salon_toggle_btn_container_19csk_256",Me="_salononline_toggle_btn_19csk_271",Re="_salononline_toggle_active_19csk_287",Le="_salononline_toggle_inactive_19csk_297",He="_salononline_toggle_btn_text_19csk_307",Ge="_salononline_toggle_btn_text_active_19csk_318",Te="_salononline_toggle_btn_text_inactive_19csk_323",Fe="_dark_19csk_328",qe="_chooseSalon_modal_19csk_405",ze="_chooseSalon_model_content_19csk_416",Be="_mobile_dashboard_salon_list_dropdown_19csk_484",Ke="_dashboard_mobile_item_19csk_593",Qe="_dashboard_mobile_item_active_19csk_630",Ve="_dashboard_mobile_siderbar_content_container_19csk_644",Je="_dashboard_mobile_sidebar_active_19csk_649",Ue="_dashboard_mobile_sidebar_inactive_19csk_655",We="_dashboard_theme_container_19csk_660",n={admin_dashboard_header_wrapper:Ne,choose_salon_div:$e,profile_wrapper:Ie,dashboard_salon_list_dropdown:we,salonName_active:ye,mobile_choose_salon_div:Se,dashboard_mobile_menu:Ce,dashboard_mobile_sidebar_container:De,profile_drop_container:Ee,salon_toggle_btn_container:Oe,salononline_toggle_btn:Me,salononline_toggle_active:Re,salononline_toggle_inactive:Le,salononline_toggle_btn_text:He,salononline_toggle_btn_text_active:Ge,salononline_toggle_btn_text_inactive:Te,dark:Fe,chooseSalon_modal:qe,chooseSalon_model_content:ze,mobile_dashboard_salon_list_dropdown:Be,dashboard_mobile_item:Ke,dashboard_mobile_item_active:Qe,dashboard_mobile_siderbar_content_container:Ve,dashboard_mobile_sidebar_active:Je,dashboard_mobile_sidebar_inactive:Ue,dashboard_theme_container:We},lo=()=>{var R;const s=c(o=>o.AdminLoggedInMiddleware.entiredata.user[0]),x=c(o=>o.AdminLoggedInMiddleware.adminEmail),F=c(o=>o.AdminLoggedInMiddleware.adminSalonId),[S,v]=i.useState(!1),[q,Xe]=i.useState(!1),j=i.useRef();i.useEffect(()=>{let o=r=>{j.current&&!j.current.contains(r.target)&&(console.log(j.current.contains(r.target)),v(!1))};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[z,k]=i.useState(!1),[B,h]=i.useState(!1),d=le(),_=ie(),u=de(),f=i.useRef();i.useEffect(()=>{const o=r=>{f.current&&!f.current.contains(r.target)&&h(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[K,A]=i.useState(!1),N=i.useRef(),$=i.useRef();i.useEffect(()=>{const o=r=>{N.current&&$.current&&!N.current.contains(r.target)&&!$.current.contains(r.target)&&A(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const Q=async()=>{d(T(u))},I=i.useRef(new AbortController);i.useEffect(()=>{const o=new AbortController;return I.current=o,d(pe(x,o.signal)),()=>{I.current&&I.current.abort()}},[x,d]);const V=c(o=>o.getAdminSalonList),{loading:b,resolve:m,salons:a}=V,C=o=>{d({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:o.salonName,chooseSalonId:o.salonId}}),v(!1)},l=c(o=>o.adminSetSalon),D=()=>{const o={salonId:l==null?void 0:l.chooseSalonId,adminEmail:x};d(ve(o))},w=i.useRef(new AbortController);i.useEffect(()=>{if(s){const o=new AbortController;return w.current=o,d(xe(x,o.signal)),()=>{w.current&&w.current.abort()}}},[s,d]);const J=c(o=>o.adminApplySalon),{loading:E}=J,O=c(re),U=()=>{d({type:ue}),localStorage.setItem("dark","On")},W=()=>{d({type:ge}),localStorage.setItem("dark","Off")},M=()=>{O=="Off"?U():W()},X=c(o=>o.adminGetDefaultSalon),{loading:Ye,resolve:Ze,response:g}=X;i.useEffect(()=>{g&&y(g==null?void 0:g.isOnline)},[g]);const[p,y]=i.useState(!1),Y=()=>{const o=!p;y(o),d(je({salonId:F,isOnline:o},y,o))},t=O==="On";return e.jsxs("div",{className:`${n.admin_dashboard_header_wrapper} ${t&&n.dark}`,children:[(_==null?void 0:_.pathname)==="/admin-dashboard"?e.jsxs("div",{className:`${n.choose_salon_div} ${t&&n.dark}`,children:[e.jsx("p",{}),(s==null?void 0:s.salonId)==0?e.jsx("div",{children:e.jsx("p",{children:"No Salon Present"})}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{onClickAway:()=>v(!1),children:e.jsxs("div",{onClick:()=>v(o=>!o),children:[e.jsx("p",{style:{color:t?"var(--dark-color-4)":"var(--light-color-2)"},children:l==null?void 0:l.currentActiveSalon}),e.jsx("div",{style:{color:t?"var(--dark-color-4)":"var(--light-color-2)"},children:e.jsx(ce,{})}),e.jsx("div",{className:`${n.dashboard_salon_list_dropdown} ${t&&n.dark}`,style:{opacity:S?"1":"0",zIndex:S?"2":"-1",transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"15rem"},children:b?e.jsx("p",{children:"Loading..."}):!m||(a==null?void 0:a.length)===0?e.jsx("p",{children:"No Salon Present"}):a.map(o=>e.jsx("p",{onClick:()=>C(o),className:`${o.salonId===(s==null?void 0:s.salonId)&&n.salonName_active} ${t&&n.dark}`,children:o.salonName},o._id))})]})}),!b&&m&&e.jsx("button",{onClick:D,disabled:!!((s==null?void 0:s.salonId)==(l==null?void 0:l.chooseSalonId)||E),style:{cursor:(s==null?void 0:s.salonId)==(l==null?void 0:l.chooseSalonId)&&"not-allowed"},children:"Apply"})]})]}):e.jsx("div",{}),(_==null?void 0:_.pathname)==="/admin-dashboard"?e.jsx("div",{className:n.mobile_choose_salon_div,children:e.jsx("button",{onClick:()=>k(o=>!o),children:"Select Salon"})}):e.jsx("div",{}),e.jsx(fe,{open:z,onClose:()=>k(!1),"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:e.jsx("section",{className:n.chooseSalon_modal,children:e.jsxs("div",{className:`${n.chooseSalon_model_content} ${t&&n.dark}`,children:[e.jsx("button",{onClick:()=>k(!1),children:e.jsx(L,{})}),e.jsx("p",{children:"Choose Salon"}),e.jsx("div",{children:e.jsx("p",{children:l==null?void 0:l.currentActiveSalon})}),e.jsx("div",{className:`${n.mobile_dashboard_salon_list_dropdown} ${t&&n.dark}`,style:{opacity:1,zIndex:2,transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"20rem"},children:b&&!m?e.jsx("p",{children:"No Salon Present"}):!b&&m&&(a==null?void 0:a.length)>0?a.map(o=>e.jsx("p",{onClick:()=>C(o),className:`${o.salonId===(s==null?void 0:s.salonId)&&n.salonName_active} ${t&&n.dark}`,children:o.salonName},o._id)):!b&&m&&(a==null?void 0:a.length)==0?e.jsx("p",{children:"No Salon Present"}):!b&&!m&&e.jsx("p",{children:"No Salon Present"})}),(s==null?void 0:s.salonId)!==0&&!b&&m&&e.jsx("button",{onClick:D,disabled:!!((s==null?void 0:s.salonId)==(l==null?void 0:l.chooseSalonId)||E),children:"Apply"})]})})}),e.jsxs("div",{className:`${n.profile_wrapper} ${t&&n.dark}`,children:[(s==null?void 0:s.salonId)==0?e.jsx("div",{}):e.jsxs("div",{className:`${n.salon_toggle_btn_container} ${t&&n.dark}`,style:{outline:p?"0.1rem solid limegreen":"0.1rem solid red"},children:[e.jsx("p",{className:`${n.salononline_toggle_btn_text} ${p?n.salononline_toggle_btn_text_active:n.salononline_toggle_btn_text_inactive} ${t&&n.dark}`,children:p?"Online":"Offline"}),e.jsx("button",{className:`${n.salononline_toggle_btn} ${p?n.salononline_toggle_active:n.salononline_toggle_inactive}`,onClick:Y})]}),q?e.jsx(_e,{count:1,height:"4.5rem",width:"4.5rem",style:{borderRadius:"50%"}}):e.jsxs("div",{children:[e.jsx("img",{src:(R=s==null?void 0:s.profile[0])==null?void 0:R.url,onError:()=>setSrc("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),alt:"admin-profile",onClick:()=>A(o=>!o),ref:N}),K&&e.jsxs("div",{ref:$,className:`${n.profile_drop_container} ${t&&n.dark}`,children:[e.jsxs("div",{onClick:()=>{u("/admin-dashboard/editprofile"),A(!1)},children:[e.jsx("div",{children:e.jsx(H,{})}),e.jsx("div",{children:"My Profile"})]}),e.jsxs("div",{onClick:Q,children:[e.jsx("div",{children:e.jsx(G,{})}),e.jsx("div",{children:"Logout"})]})]})]}),e.jsx("div",{onClick:()=>h(!0),className:`${n.dashboard_mobile_menu} ${t&&n.dark}`,children:e.jsx(be,{})})]}),e.jsxs("div",{className:`${n.dashboard_mobile_sidebar_container} ${B?n.dashboard_mobile_sidebar_active:n.dashboard_mobile_sidebar_inactive} ${t&&n.dark}`,ref:f,children:[e.jsx("button",{onClick:()=>h(!1),children:e.jsx(L,{})}),e.jsxs("main",{className:n.dashboard_mobile_siderbar_content_container,children:[Ae.map(o=>e.jsxs("div",{className:`${n.dashboard_mobile_item} ${_.pathname.includes(o.url)&&n.dashboard_mobile_item_active} ${t&&n.dark}`,onClick:()=>{u(o==null?void 0:o.url),h(!1)},children:[e.jsx("div",{style:{},children:o.icon}),e.jsx("p",{style:{},children:o.title})]},o.id)),e.jsxs("div",{onClick:()=>{h(!1),u("/admin-dashboard/editprofile")},className:`${n.dashboard_mobile_item} ${t&&n.dark}`,children:[e.jsx("div",{children:e.jsx(H,{})}),e.jsx("p",{children:"Profile"})]}),e.jsxs("div",{onClick:()=>d(T(u)),className:`${n.dashboard_mobile_item} ${t&&n.dark}`,children:[e.jsx("div",{children:e.jsx(G,{})}),e.jsx("p",{children:"Logout"})]}),e.jsxs("div",{className:`${n.dashboard_theme_container} ${t&&n.dark}`,children:[e.jsx("p",{children:"Theme"}),t?e.jsx("button",{onClick:M,children:e.jsx(me,{})}):e.jsx("button",{onClick:M,children:e.jsx(he,{})})]})]})]})]})};export{lo as D,Ae as m};
