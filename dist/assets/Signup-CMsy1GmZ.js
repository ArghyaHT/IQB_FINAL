import{r,a as N,b as A,u as x,d as P,c as $,j as e,E as z,N as C,L as I,H as L,_ as t,e as R}from"./index-smej7xwq.js";import{b as D,c as B}from"./AuthAction-DtGNWTA2.js";import{B as G}from"./ButtonLoader-BLdiC7PJ.js";const K="_admin_signup_container_1noj2_1",H="_admin_signup_left_1noj2_8",M="_admin_signup_right_1noj2_24",O="_homeicon_1noj2_71",U="_password_container_1noj2_105",V="_signup_btn_1noj2_147",W="_error_message_1noj2_204",Y="_google_btn_1noj2_211",q="_dark_1noj2_259",s={admin_signup_container:K,admin_signup_left:H,admin_signup_right:M,homeicon:O,password_container:U,signup_btn:V,error_message:W,google_btn:Y,dark:q},X=()=>{const[o,f]=r.useState(""),[i,b]=r.useState(""),m=N(),d=A(),[u,v]=r.useState(!1),[_,c]=r.useState(""),[p,l]=r.useState(""),k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,h=()=>{if(!o)return t.error("Please enter email",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Please enter email");if(!k.test(o))return t.error("Invalid email format",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Invalid email format");if(!i)return t.error("Please enter password",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Please enter password");if(i.length<8)return t.error("Password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Password length must be 8 charecters");m(D({email:o,password:i},d))},j=n=>{n.key==="Enter"&&h()},y=x(n=>n.AdminSignup),{loading:w}=y,a=x(P)==="On",S=$({onSuccess:async n=>{try{const{access_token:g}=n,E=await R.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${g}`}});m(B(E.data.email,d))}catch(g){console.error("Error fetching user info:",g)}}});return e.jsxs("main",{className:`${s.admin_signup_container} ${a&&s.dark}`,children:[e.jsx("div",{className:s.admin_signup_left,children:e.jsx("img",{src:"./signup_un.png",alt:"admin_signup"})}),e.jsxs("div",{className:`${s.admin_signup_right} ${a&&s.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Sign Up to your Admin Account"}),e.jsx("p",{children:"Welcome back Admin! please enter your details"}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Enter Your Email ID",value:o,onChange:n=>{c(""),f(n.target.value)},onKeyDown:j,style:{border:_?"0.1rem solid red":void 0}}),e.jsx("p",{className:s.error_message,children:_})]}),e.jsxs("div",{children:[e.jsxs("div",{className:`${s.password_container} ${a&&s.dark}`,style:{border:p?"0.1rem solid red":void 0},children:[e.jsx("input",{type:u?"text":"password",placeholder:"Password",value:i,onChange:n=>{l(""),b(n.target.value)},onKeyDown:j}),e.jsx("div",{onClick:()=>v(n=>!n),children:u?e.jsx(z,{}):e.jsx(C,{})})]}),e.jsx("p",{className:s.error_message,children:p})]}),e.jsx("p",{}),w?e.jsx("button",{style:{display:"grid",placeItems:"center"},className:s.signup_btn,children:e.jsx(G,{})}):e.jsx("button",{onClick:h,className:s.signup_btn,children:"Signup"}),e.jsxs("div",{children:[e.jsx("div",{}),e.jsx("p",{children:"or"}),e.jsx("div",{})]}),e.jsx("button",{onClick:()=>S(),className:`${s.google_btn} ${a&&s.dark}`,children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:"/google_logo.png",alt:"logo"})}),e.jsx("p",{children:"Sign up with Google"})]})}),e.jsxs("p",{children:["Already a member ? ",e.jsx(I,{to:"/adminsignin",children:"Log In"})]})]}),e.jsx("div",{className:s.homeicon,onClick:()=>d("/"),children:e.jsx(L,{})})]})]})};export{X as default};
