import{j as e,b3 as W,b4 as X,b5 as Y,b6 as Z,b7 as P,b8 as ee,b as _,r as l,u as ne,c as oe,a as se,d as ae,b9 as te,ba as R,bb as L,bc as O,bd as le}from"./index-D1NNQ8TS.js";import{S as ie}from"./index-BfkzATpX.js";import{e as G}from"./AuthAction-DFrG_Bwi.js";import{g as de}from"./SalonAction-B_lMwZsx.js";import{a as re,b as _e}from"./AdminHeaderAction-CH-k1JUz.js";import{d as ce}from"./DashboardAction-fMlSZjtm.js";import{C as he}from"./ClickAwayListener-Bc1YWYD6.js";import{M as be}from"./Modal-Crg_FAZQ.js";const me=[{id:1,title:"Dashboard",icon:e.jsx(W,{}),url:"/admin-dashboard"},{id:2,title:"Salons",icon:e.jsx(X,{}),url:"/admin-salon"},{id:3,title:"Barbers",icon:e.jsx(Y,{}),url:"/admin-barber"},{id:4,title:"Customers",icon:e.jsx(Z,{}),url:"/admin-customer"},{id:5,title:"Advertisements",icon:e.jsx(P,{}),url:"/admin-advertise"},{id:6,title:"Queuelist",icon:e.jsx(ee,{}),url:"/admin-queue"}],pe="_admin_dashboard_header_wrapper_1hpnn_1",ge="_choose_salon_div_1hpnn_11",ue="_profile_wrapper_1hpnn_15",xe="_dashboard_salon_list_dropdown_1hpnn_99",ve="_mobile_choose_salon_div_1hpnn_197",je="_dashboard_mobile_menu_1hpnn_201",fe="_dashboard_mobile_sidebar_container_1hpnn_205",Ae="_profile_drop_container_1hpnn_214",Ie="_salon_toggle_btn_container_1hpnn_287",ke="_salononline_toggle_btn_1hpnn_302",we="_salononline_toggle_active_1hpnn_319",Se="_salononline_toggle_inactive_1hpnn_329",ye="_salononline_toggle_btn_text_1hpnn_339",Ce="_salononline_toggle_btn_text_active_1hpnn_352",Ne="_salononline_toggle_btn_text_inactive_1hpnn_358",$e="_chooseSalon_modal_1hpnn_396",Ee="_chooseSalon_model_content_1hpnn_407",De="_mobile_dashboard_salon_list_dropdown_1hpnn_475",Me="_dashboard_mobile_item_1hpnn_600",Re="_dashboard_mobile_item_active_1hpnn_637",Le="_dashboard_mobile_siderbar_content_container_1hpnn_651",Oe="_dashboard_mobile_sidebar_active_1hpnn_656",Ge="_dashboard_mobile_sidebar_inactive_1hpnn_662",He="_dashboard_theme_container_1hpnn_667",s={admin_dashboard_header_wrapper:pe,choose_salon_div:ge,profile_wrapper:ue,dashboard_salon_list_dropdown:xe,mobile_choose_salon_div:ve,dashboard_mobile_menu:je,dashboard_mobile_sidebar_container:fe,profile_drop_container:Ae,salon_toggle_btn_container:Ie,salononline_toggle_btn:ke,salononline_toggle_active:we,salononline_toggle_inactive:Se,salononline_toggle_btn_text:ye,salononline_toggle_btn_text_active:Ce,salononline_toggle_btn_text_inactive:Ne,chooseSalon_modal:$e,chooseSalon_model_content:Ee,mobile_dashboard_salon_list_dropdown:De,dashboard_mobile_item:Me,dashboard_mobile_item_active:Re,dashboard_mobile_siderbar_content_container:Le,dashboard_mobile_sidebar_active:Oe,dashboard_mobile_sidebar_inactive:Ge,dashboard_theme_container:He},Xe=()=>{var M;const o=_(n=>n.AdminLoggedInMiddleware.entiredata.user[0]),x=_(n=>n.AdminLoggedInMiddleware.adminEmail),H=_(n=>n.AdminLoggedInMiddleware.adminSalonId),[N,v]=l.useState(!1),[T,Te]=l.useState(!1),j=l.useRef();l.useEffect(()=>{let n=r=>{j.current&&!j.current.contains(r.target)&&(console.log(j.current.contains(r.target)),v(!1))};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const[z,f]=l.useState(!1),[B,m]=l.useState(!1),i=ne(),c=oe(),p=se(),A=l.useRef();l.useEffect(()=>{const n=r=>{A.current&&!A.current.contains(r.target)&&m(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const[q,I]=l.useState(!1),k=l.useRef(),w=l.useRef();l.useEffect(()=>{const n=r=>{k.current&&w.current&&!k.current.contains(r.target)&&!w.current.contains(r.target)&&I(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const F=async()=>{i(G(p))},S=l.useRef(new AbortController);l.useEffect(()=>{const n=new AbortController;return S.current=n,i(de(x,n.signal)),()=>{S.current&&S.current.abort()}},[x,i]);const Q=_(n=>n.getAdminSalonList),{loading:h,resolve:b,salons:a}=Q,$=n=>{i({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:n.salonName,chooseSalonId:n.salonId}}),v(!1)},t=_(n=>n.adminSetSalon),E=()=>{const n={salonId:t==null?void 0:t.chooseSalonId,adminEmail:x};i(_e(n))},y=l.useRef(new AbortController);l.useEffect(()=>{if(o){const n=new AbortController;return y.current=n,i(re(x,n.signal)),()=>{y.current&&y.current.abort()}}},[o,i]);const K=_(n=>n.adminApplySalon),{loading:D}=K,V=_(ae),J=_(n=>n.adminGetDefaultSalon),{loading:ze,resolve:Be,response:g}=J;l.useEffect(()=>{g&&C(g==null?void 0:g.isOnline)},[g]);const[u,C]=l.useState(!1),U=()=>{const n=!u;C(n),i(ce({salonId:H,isOnline:n},C,n))},d=V==="On";return e.jsxs("div",{className:`${s.admin_dashboard_header_wrapper} ${d&&s.dark}`,children:[(c==null?void 0:c.pathname)==="/admin-dashboard"?e.jsxs("div",{className:`${s.choose_salon_div} ${d&&s.dark}`,children:[e.jsx("p",{}),(o==null?void 0:o.salonId)==0?e.jsx("div",{children:"No Salon Present"}):e.jsxs(e.Fragment,{children:[e.jsx(he,{onClickAway:()=>v(!1),children:e.jsxs("div",{onClick:()=>v(n=>!n),children:[e.jsx("p",{children:t==null?void 0:t.currentActiveSalon}),e.jsx("div",{children:e.jsx(te,{})}),e.jsx("div",{className:`${s.dashboard_salon_list_dropdown} ${d&&s.dark}`,style:{opacity:N?"1":"0",zIndex:N?"2":"-1",transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"15rem"},children:h?e.jsx("p",{children:"Loading..."}):!b||(a==null?void 0:a.length)===0?e.jsx("p",{children:"No Salon Present"}):a.map(n=>e.jsx("p",{onClick:()=>$(n),style:{background:n.salonId===(o==null?void 0:o.salonId)?"#0866ff":void 0,color:n.salonId===(o==null?void 0:o.salonId)?"var(--primary-text-light-color1)":void 0,boxShadow:n.salonId===(o==null?void 0:o.salonId)?"0px 1px 6px rgba(0,0,0,0.2)":void 0},children:n.salonName},n._id))})]})}),!h&&b&&e.jsx("button",{onClick:E,disabled:!!((o==null?void 0:o.salonId)==(t==null?void 0:t.chooseSalonId)||D),style:{cursor:(o==null?void 0:o.salonId)==(t==null?void 0:t.chooseSalonId)&&"not-allowed"},children:"Apply"})]})]}):e.jsx("div",{}),(c==null?void 0:c.pathname)==="/admin-dashboard"?e.jsx("div",{className:s.mobile_choose_salon_div,children:e.jsx("button",{onClick:()=>f(n=>!n),children:"Select Salon"})}):e.jsx("div",{}),e.jsx(be,{open:z,onClose:()=>f(!1),"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:e.jsx("section",{className:s.chooseSalon_modal,children:e.jsxs("div",{className:`${s.chooseSalon_model_content} ${d&&s.dark}`,children:[e.jsx("button",{onClick:()=>f(!1),children:e.jsx(R,{})}),e.jsx("p",{children:"Choose Salon"}),e.jsx("div",{children:e.jsx("p",{children:t==null?void 0:t.currentActiveSalon})}),e.jsx("div",{className:s.mobile_dashboard_salon_list_dropdown,style:{opacity:1,zIndex:2,transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"20rem"},children:h&&!b?e.jsx("p",{children:"No Salon Present"}):!h&&b&&(a==null?void 0:a.length)>0?a.map(n=>e.jsx("p",{onClick:()=>$(n),style:{background:n.salonId==(o==null?void 0:o.salonId)&&"#0866ff",color:n.salonId==(o==null?void 0:o.salonId)&&"var(--primary-text-light-color1)"},children:n.salonName},n._id)):!h&&b&&(a==null?void 0:a.length)==0?e.jsx("p",{children:"No Salon Present"}):!h&&!b&&e.jsx("p",{children:"No Salon Present"})}),(o==null?void 0:o.salonId)!==0&&!h&&b&&e.jsx("button",{onClick:E,disabled:!!((o==null?void 0:o.salonId)==(t==null?void 0:t.chooseSalonId)||D),children:"Apply"})]})})}),e.jsxs("div",{className:`${s.profile_wrapper} ${d&&s.dark}`,children:[(o==null?void 0:o.salonId)==0?e.jsx("div",{}):e.jsxs("div",{className:s.salon_toggle_btn_container,style:{outline:u?"1px solid limegreen":"1px solid red"},children:[e.jsx("p",{className:`${s.salononline_toggle_btn_text} ${u?s.salononline_toggle_btn_text_active:s.salononline_toggle_btn_text_inactive}`,children:u?"Online":"Offline"}),e.jsx("button",{className:`${s.salononline_toggle_btn} ${u?s.salononline_toggle_active:s.salononline_toggle_inactive}`,onClick:U})]}),T?e.jsx(ie,{count:1,height:"4.5rem",width:"4.5rem",style:{borderRadius:"50%"}}):e.jsxs("div",{children:[e.jsx("img",{src:(M=o==null?void 0:o.profile[0])==null?void 0:M.url,onError:()=>setSrc("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),alt:"admin-profile",onClick:()=>I(n=>!n),ref:k}),q&&e.jsxs("div",{ref:w,className:`${s.profile_drop_container} ${d&&s.dark}`,children:[e.jsxs("div",{onClick:()=>{p("/admin-dashboard/editprofile"),I(!1)},children:[e.jsx("div",{children:e.jsx(L,{})}),e.jsx("div",{children:"My Profile"})]}),e.jsxs("div",{onClick:F,children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsx("div",{children:"Logout"})]})]})]}),e.jsx("div",{onClick:()=>m(!0),className:`${s.dashboard_mobile_menu} ${d&&s.dark}`,children:e.jsx(le,{})})]}),e.jsxs("div",{className:`${s.dashboard_mobile_sidebar_container} ${B?s.dashboard_mobile_sidebar_active:s.dashboard_mobile_sidebar_inactive} ${d&&s.dark}`,ref:A,children:[e.jsx("button",{onClick:()=>m(!1),children:e.jsx(R,{})}),e.jsxs("main",{className:s.dashboard_mobile_siderbar_content_container,children:[me.map(n=>e.jsxs("div",{className:`${s.dashboard_mobile_item} ${c.pathname.includes(n.url)&&s.dashboard_mobile_item_active}`,onClick:()=>{p(n==null?void 0:n.url),m(!1)},children:[e.jsx("div",{style:{},children:n.icon}),e.jsx("p",{style:{},children:n.title})]},n.id)),e.jsxs("div",{onClick:()=>{m(!1),p("/admin-dashboard/editprofile")},className:s.dashboard_mobile_item,children:[e.jsx("div",{children:e.jsx(L,{})}),e.jsx("p",{children:"Profile"})]}),e.jsxs("div",{onClick:()=>i(G(p)),className:s.dashboard_mobile_item,children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsx("p",{children:"Logout"})]})]})]})]})};export{Xe as D,me as m};
