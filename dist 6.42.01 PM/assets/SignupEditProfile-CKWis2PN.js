import{u as $,c as Y,r,a as q,b as k,j as e,_ as A}from"./index-u-AATrzO.js";import{d as J}from"./AuthAction-c7_RRjpo.js";import{l as Q,U as W}from"./libphonenumber-jOZUm_53.js";import{B as E}from"./ButtonLoader-CR5N2D0l.js";import{g as X}from"./AdminProfileAction--p75dOFx.js";import{C as Z}from"./ClickAwayListener-D5K8AY6H.js";import"./index-pYybFpgN.js";import"./getReactElementRef-CWP5Jz8O.js";const ee="_admin_signup_edit_container_11sk0_1",ne="_signup_head_11sk0_37",se="_error_message_11sk0_197",l={admin_signup_edit_container:ee,signup_head:ne,error_message:se},pe=()=>{var S;const p=$(),d=Y(),s=(S=d==null?void 0:d.state)==null?void 0:S.newUser,[i,D]=r.useState(""),[h,I]=r.useState(""),[c,w]=r.useState(""),[g,P]=r.useState(""),[x,B]=r.useState(""),f=q(),[K,u]=r.useState(!1),U=()=>{u(n=>!n)},m=n=>{w(n),u(!1)},[L,b]=r.useState(!1),[j,_]=r.useState(""),[v,y]=r.useState(""),C=()=>{if(i.length===0||i.length>20)return A.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Name must be between 1 to 20 characters");if(L)return A.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),y("Invalid Number");const n={email:s==null?void 0:s.email,mobileNumber:Number(g),name:i,gender:c,dateOfBirth:h,salonId:s==null?void 0:s.salonId,AuthType:s==null?void 0:s.AuthType,countryCode:Number(x)};p(J(n,f))},V=()=>{const n={email:s==null?void 0:s.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:s==null?void 0:s.salonId,countryCode:Number(x)};p(X(n,f))},o=n=>{n.key==="Enter"&&C()},G=k(n=>n.AdminSignupEdit),{loading:M}=G,O=k(n=>n.adminSkipProfile),{loading:R}=O,N=Q.PhoneNumberUtil.getInstance(),F=n=>{try{return N.isValidNumber(N.parseAndKeepRawInput(n))}catch{return!1}},[z,H]=r.useState("gb"),T=(n,a)=>{y("");const{country:t,inputValue:re}=a;F(n)?(P(n),B(t==null?void 0:t.dialCode),H(t==null?void 0:t.iso2),b(!1)):b(!0)};return e.jsxs("main",{className:l.admin_signup_edit_container,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"admin_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:l.signup_head,children:"Add Your Account Details"}),R?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(E,{})}):e.jsx("button",{onClick:()=>V(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:n=>{_(""),D(n.target.value)},onKeyDown:o,style:{border:j?"0.1rem solid red":"none"}}),e.jsx("p",{className:l.error_message,children:j})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${c?`${c}`:""}`,onClick:()=>U(),onKeyDown:o}),K&&e.jsx(Z,{onClickAway:()=>u(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>m("Male"),children:"Male"}),e.jsx("p",{onClick:()=>m("Female"),children:"Female"}),e.jsx("p",{onClick:()=>m("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:h,onChange:n=>I(n.target.value),onKeyDown:o})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{style:{border:v&&"0.1rem solid red"},children:e.jsx("div",{children:e.jsx(W,{forceDialCode:!0,defaultCountry:z,value:g,onKeyDown:o,onChange:(n,a)=>T(n,a)})})}),e.jsx("p",{className:l.error_message,children:v})]}),e.jsx("div",{children:M?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(E,{})}):e.jsx("button",{onClick:()=>C(),children:"Update"})})]})})]})};export{pe as default};
