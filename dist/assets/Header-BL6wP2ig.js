import{j as e,b4 as Z,b5 as P,b6 as ee,b7 as oe,b8 as ne,b9 as ae,ba as se,bb as te,u as c,r as i,a as le,f as ie,b as de,d as re,bc as ce,bd as L,be as H,bf as G,bg as _e,S as be,M as me,D as he,h as ge}from"./index-smej7xwq.js";import{S as ue}from"./index-BfDBZXgS.js";import{e as T}from"./AuthAction-DtGNWTA2.js";import{g as pe}from"./SalonAction-BLM7tVcn.js";import{a as je,b as xe}from"./AdminHeaderAction-B2Skiiqd.js";import{d as ve}from"./DashboardAction-GMMXnGT7.js";import{C as fe}from"./ClickAwayListener-CmpceTmi.js";import{M as we}from"./Modal-CbCgZbhR.js";const ke=[{id:1,title:"Dashboard",icon:e.jsx(Z,{}),url:"/admin-dashboard"},{id:2,title:"Salons",icon:e.jsx(P,{}),url:"/admin-salon"},{id:3,title:"Barbers",icon:e.jsx(ee,{}),url:"/admin-barber"},{id:4,title:"Customers",icon:e.jsx(oe,{}),url:"/admin-customer"},{id:5,title:"Advertisements",icon:e.jsx(ne,{}),url:"/admin-advertise"},{id:6,title:"Queuelist",icon:e.jsx(ae,{}),url:"/admin-queue"},{id:7,title:"Queue History",icon:e.jsx(se,{}),url:"/admin-quehistory"},{id:8,title:"Appointments",icon:e.jsx(te,{}),url:"/admin-appointments"}],Ae="_admin_dashboard_header_wrapper_clgjw_1",Ne="_choose_salon_div_clgjw_10",$e="_profile_wrapper_clgjw_14",Ie="_dashboard_salon_list_dropdown_clgjw_93",Se="_salonName_active_clgjw_144",ye="_mobile_choose_salon_div_clgjw_170",Ce="_dashboard_mobile_menu_clgjw_174",De="_dashboard_mobile_sidebar_container_clgjw_178",Ee="_profile_drop_container_clgjw_187",Oe="_salon_toggle_btn_container_clgjw_256",Me="_salononline_toggle_btn_clgjw_271",Re="_salononline_toggle_active_clgjw_287",Le="_salononline_toggle_inactive_clgjw_297",He="_salononline_toggle_btn_text_clgjw_307",Ge="_salononline_toggle_btn_text_active_clgjw_318",Te="_salononline_toggle_btn_text_inactive_clgjw_323",Fe="_dark_clgjw_328",qe="_chooseSalon_modal_clgjw_405",ze="_chooseSalon_model_content_clgjw_416",Be="_mobile_dashboard_salon_list_dropdown_clgjw_484",Ke="_dashboard_mobile_item_clgjw_592",Qe="_dashboard_mobile_item_active_clgjw_629",Ve="_dashboard_mobile_siderbar_content_container_clgjw_643",Je="_dashboard_mobile_sidebar_active_clgjw_648",Ue="_dashboard_mobile_sidebar_inactive_clgjw_654",We="_dashboard_theme_container_clgjw_659",n={admin_dashboard_header_wrapper:Ae,choose_salon_div:Ne,profile_wrapper:$e,dashboard_salon_list_dropdown:Ie,salonName_active:Se,mobile_choose_salon_div:ye,dashboard_mobile_menu:Ce,dashboard_mobile_sidebar_container:De,profile_drop_container:Ee,salon_toggle_btn_container:Oe,salononline_toggle_btn:Me,salononline_toggle_active:Re,salononline_toggle_inactive:Le,salononline_toggle_btn_text:He,salononline_toggle_btn_text_active:Ge,salononline_toggle_btn_text_inactive:Te,dark:Fe,chooseSalon_modal:qe,chooseSalon_model_content:ze,mobile_dashboard_salon_list_dropdown:Be,dashboard_mobile_item:Ke,dashboard_mobile_item_active:Qe,dashboard_mobile_siderbar_content_container:Ve,dashboard_mobile_sidebar_active:Je,dashboard_mobile_sidebar_inactive:Ue,dashboard_theme_container:We},io=()=>{var R;const a=c(o=>o.AdminLoggedInMiddleware.entiredata.user[0]),j=c(o=>o.AdminLoggedInMiddleware.adminEmail),F=c(o=>o.AdminLoggedInMiddleware.adminSalonId),[y,x]=i.useState(!1),[q,Xe]=i.useState(!1),v=i.useRef();i.useEffect(()=>{let o=r=>{v.current&&!v.current.contains(r.target)&&(console.log(v.current.contains(r.target)),x(!1))};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[z,f]=i.useState(!1),[B,h]=i.useState(!1),d=le(),_=ie(),g=de(),w=i.useRef();i.useEffect(()=>{const o=r=>{w.current&&!w.current.contains(r.target)&&h(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[K,k]=i.useState(!1),A=i.useRef(),N=i.useRef();i.useEffect(()=>{const o=r=>{A.current&&N.current&&!A.current.contains(r.target)&&!N.current.contains(r.target)&&k(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const Q=async()=>{d(T(g))},$=i.useRef(new AbortController);i.useEffect(()=>{const o=new AbortController;return $.current=o,d(pe(j,o.signal)),()=>{$.current&&$.current.abort()}},[j,d]);const V=c(o=>o.getAdminSalonList),{loading:b,resolve:m,salons:s}=V,C=o=>{d({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:o.salonName,chooseSalonId:o.salonId}}),x(!1)},l=c(o=>o.adminSetSalon),D=()=>{const o={salonId:l==null?void 0:l.chooseSalonId,adminEmail:j};d(xe(o))},I=i.useRef(new AbortController);i.useEffect(()=>{if(a){const o=new AbortController;return I.current=o,d(je(j,o.signal)),()=>{I.current&&I.current.abort()}}},[a,d]);const J=c(o=>o.adminApplySalon),{loading:E}=J,O=c(re),U=()=>{d({type:he}),localStorage.setItem("dark","On")},W=()=>{d({type:ge}),localStorage.setItem("dark","Off")},M=()=>{O=="Off"?U():W()},X=c(o=>o.adminGetDefaultSalon),{loading:Ye,resolve:Ze,response:u}=X;i.useEffect(()=>{u&&S(u==null?void 0:u.isOnline)},[u]);const[p,S]=i.useState(!1),Y=()=>{const o=!p;S(o),d(ve({salonId:F,isOnline:o},S,o))},t=O==="On";return e.jsxs("div",{className:`${n.admin_dashboard_header_wrapper} ${t&&n.dark}`,children:[(_==null?void 0:_.pathname)==="/admin-dashboard"?e.jsxs("div",{className:`${n.choose_salon_div} ${t&&n.dark}`,children:[e.jsx("p",{}),(a==null?void 0:a.salonId)==0?e.jsx("div",{children:e.jsx("p",{children:"No Salon Present"})}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{onClickAway:()=>x(!1),children:e.jsxs("div",{onClick:()=>x(o=>!o),children:[e.jsx("p",{style:{color:t?"var(--dark-color-4)":"var(--light-color-2)"},children:l==null?void 0:l.currentActiveSalon}),e.jsx("div",{style:{color:t?"var(--dark-color-4)":"var(--light-color-2)"},children:e.jsx(ce,{})}),e.jsx("div",{className:`${n.dashboard_salon_list_dropdown} ${t&&n.dark}`,style:{opacity:y?"1":"0",zIndex:y?"2":"-1",transition:"300ms ease",height:(s==null?void 0:s.length)>0&&(s==null?void 0:s.length)<=4?"auto":"15rem"},children:b?e.jsx("p",{children:"Loading..."}):!m||(s==null?void 0:s.length)===0?e.jsx("p",{children:"No Salon Present"}):s.map(o=>e.jsx("p",{onClick:()=>C(o),className:`${o.salonId===(a==null?void 0:a.salonId)&&n.salonName_active} ${t&&n.dark}`,children:o.salonName},o._id))})]})}),!b&&m&&e.jsx("button",{onClick:D,disabled:!!((a==null?void 0:a.salonId)==(l==null?void 0:l.chooseSalonId)||E),style:{cursor:(a==null?void 0:a.salonId)==(l==null?void 0:l.chooseSalonId)&&"not-allowed"},children:"Apply"})]})]}):e.jsx("div",{}),(_==null?void 0:_.pathname)==="/admin-dashboard"?e.jsx("div",{className:n.mobile_choose_salon_div,children:e.jsx("button",{onClick:()=>f(o=>!o),children:"Select Salon"})}):e.jsx("div",{}),e.jsx(we,{open:z,onClose:()=>f(!1),"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:e.jsx("section",{className:n.chooseSalon_modal,children:e.jsxs("div",{className:`${n.chooseSalon_model_content} ${t&&n.dark}`,children:[e.jsx("button",{onClick:()=>f(!1),children:e.jsx(L,{})}),e.jsx("p",{children:"Choose Salon"}),e.jsx("div",{children:e.jsx("p",{children:l==null?void 0:l.currentActiveSalon})}),e.jsx("div",{className:`${n.mobile_dashboard_salon_list_dropdown} ${t&&n.dark}`,style:{opacity:1,zIndex:2,transition:"300ms ease",height:(s==null?void 0:s.length)>0&&(s==null?void 0:s.length)<=4?"auto":"20rem"},children:b&&!m?e.jsx("p",{children:"No Salon Present"}):!b&&m&&(s==null?void 0:s.length)>0?s.map(o=>e.jsx("p",{onClick:()=>C(o),className:`${o.salonId===(a==null?void 0:a.salonId)&&n.salonName_active} ${t&&n.dark}`,children:o.salonName},o._id)):!b&&m&&(s==null?void 0:s.length)==0?e.jsx("p",{children:"No Salon Present"}):!b&&!m&&e.jsx("p",{children:"No Salon Present"})}),(a==null?void 0:a.salonId)!==0&&!b&&m&&e.jsx("button",{onClick:D,disabled:!!((a==null?void 0:a.salonId)==(l==null?void 0:l.chooseSalonId)||E),children:"Apply"})]})})}),e.jsxs("div",{className:`${n.profile_wrapper} ${t&&n.dark}`,children:[(a==null?void 0:a.salonId)==0?e.jsx("div",{}):e.jsxs("div",{className:`${n.salon_toggle_btn_container} ${t&&n.dark}`,style:{outline:p?"0.1rem solid limegreen":"0.1rem solid red"},children:[e.jsx("p",{className:`${n.salononline_toggle_btn_text} ${p?n.salononline_toggle_btn_text_active:n.salononline_toggle_btn_text_inactive} ${t&&n.dark}`,children:p?"Online":"Offline"}),e.jsx("button",{className:`${n.salononline_toggle_btn} ${p?n.salononline_toggle_active:n.salononline_toggle_inactive}`,onClick:Y})]}),q?e.jsx(ue,{count:1,height:"4.5rem",width:"4.5rem",style:{borderRadius:"50%"}}):e.jsxs("div",{children:[e.jsx("img",{src:(R=a==null?void 0:a.profile[0])==null?void 0:R.url,onError:()=>setSrc("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),alt:"admin-profile",onClick:()=>k(o=>!o),ref:A}),K&&e.jsxs("div",{ref:N,className:`${n.profile_drop_container} ${t&&n.dark}`,children:[e.jsxs("div",{onClick:()=>{g("/admin-dashboard/editprofile"),k(!1)},children:[e.jsx("div",{children:e.jsx(H,{})}),e.jsx("div",{children:"My Profile"})]}),e.jsxs("div",{onClick:Q,children:[e.jsx("div",{children:e.jsx(G,{})}),e.jsx("div",{children:"Logout"})]})]})]}),e.jsx("div",{onClick:()=>h(!0),className:`${n.dashboard_mobile_menu} ${t&&n.dark}`,children:e.jsx(_e,{})})]}),e.jsxs("div",{className:`${n.dashboard_mobile_sidebar_container} ${B?n.dashboard_mobile_sidebar_active:n.dashboard_mobile_sidebar_inactive} ${t&&n.dark}`,ref:w,children:[e.jsx("button",{onClick:()=>h(!1),children:e.jsx(L,{})}),e.jsxs("main",{className:n.dashboard_mobile_siderbar_content_container,children:[ke.map(o=>e.jsxs("div",{className:`${n.dashboard_mobile_item} ${_.pathname.includes(o.url)&&n.dashboard_mobile_item_active} ${t&&n.dark}`,onClick:()=>{g(o==null?void 0:o.url),h(!1)},children:[e.jsx("div",{style:{},children:o.icon}),e.jsx("p",{style:{},children:o.title})]},o.id)),e.jsxs("div",{onClick:()=>{h(!1),g("/admin-dashboard/editprofile")},className:`${n.dashboard_mobile_item} ${t&&n.dark}`,children:[e.jsx("div",{children:e.jsx(H,{})}),e.jsx("p",{children:"Profile"})]}),e.jsxs("div",{onClick:()=>d(T(g)),className:`${n.dashboard_mobile_item} ${t&&n.dark}`,children:[e.jsx("div",{children:e.jsx(G,{})}),e.jsx("p",{children:"Logout"})]}),e.jsxs("div",{className:`${n.dashboard_theme_container} ${t&&n.dark}`,children:[e.jsx("p",{children:"Theme"}),t?e.jsx("button",{onClick:M,children:e.jsx(be,{})}):e.jsx("button",{onClick:M,children:e.jsx(me,{})})]})]})]})]})};export{io as D,ke as m};
