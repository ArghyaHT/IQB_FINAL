import{b as n,d as x,u as y,r as l,j as r,t as j}from"./index-DDukCDKF.js";import{S as g}from"./index-CuvRRW2h.js";import{d as m}from"./BarberQueueAction-DyJChqny.js";const v="_quehistory_wrapper_1l3ug_1",q="_quehistory_wrapper_content_1l3ug_26",w="_quehistory_wrapper_content_body_1l3ug_36",N="_quehistory_wrapper_content_body_error_1l3ug_120",o={quehistory_wrapper:v,quehistory_wrapper_content:q,quehistory_wrapper_content_body:w,quehistory_wrapper_content_body_error:N},B=()=>{const t=n(x)==="On",d=n(e=>e.BarberLoggedInMiddleware.barberSalonId),a=n(e=>e.BarberLoggedInMiddleware.barberId),c=y(),i=l.useRef(new AbortController);l.useEffect(()=>{const e=new AbortController;return i.current=e,c(m(d,a,e.signal)),()=>{i.current&&i.current.abort()}},[d,a,c]);const h=n(e=>e.getBarberQueueListHistory),{loading:p,resolve:_,queueListHistory:s}=h;return r.jsxs("div",{className:`${o.quehistory_wrapper}`,children:[r.jsx("div",{children:r.jsx("p",{children:"Queue History"})}),r.jsx("div",{className:`${o.quehistory_wrapper_content}`,children:p?r.jsx("div",{className:o.quehistory_wrapper_content_body,children:r.jsx(g,{count:6,height:"6rem",style:{marginBottom:"1rem"},baseColor:t?"var(--darkmode-loader-bg-color)":"var(--lightmode-loader-bg-color)",highlightColor:t?"var(--darkmode-loader-highlight-color)":"var(--lightmode-loader-highlight-color)"})}):_&&(s==null?void 0:s.length)>0?r.jsx(r.Fragment,{children:r.jsxs("div",{className:`${o.quehistory_wrapper_content_body} ${t&&o.dark}`,children:[r.jsxs("div",{children:[r.jsx("p",{children:"#"}),r.jsx("p",{children:"Name"}),r.jsx("p",{children:"Barber Name"}),r.jsx("p",{children:"Time Joined Q"}),r.jsx("div",{children:r.jsx("p",{children:"Qg Code"})}),r.jsx("div",{children:r.jsx("p",{children:"EWT"})}),r.jsx("div",{children:r.jsx("p",{children:"Type"})}),r.jsx("div",{children:r.jsx("p",{children:"Status"})})]}),s==null?void 0:s.map((e,u)=>r.jsxs("div",{className:`${o.barber_queue_history_content_body_item} ${t&&o.dark}`,style:{borderBottom:s.length-1===u&&"none"},children:[r.jsx("p",{children:e==null?void 0:e.qPosition}),r.jsx("p",{children:e==null?void 0:e.customerName}),r.jsx("p",{children:e==null?void 0:e.barberName}),r.jsx("p",{children:e==null?void 0:e.timeJoinedQ}),r.jsx("div",{children:r.jsx("p",{children:e==null?void 0:e.qgCode})}),r.jsx("div",{children:r.jsx("p",{children:e==null?void 0:e.serviceEWT})}),r.jsx("div",{children:r.jsx("p",{children:(e==null?void 0:e.serviceType)==="Regular"?"-":r.jsx(j,{})})}),r.jsx("div",{children:r.jsx("p",{style:{color:(e==null?void 0:e.status)=="served"?"green":"red"},children:e==null?void 0:e.status})})]},e==null?void 0:e._id))]})}):r.jsx("div",{className:`${o.quehistory_wrapper_content_body_error} ${t&&o.dark}`,children:r.jsx("p",{children:"No Queue history available"})})})]})};export{B as default};
