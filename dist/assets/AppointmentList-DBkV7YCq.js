import{c as f,u as b,d as w,r as s,x as S,j as e,q as A}from"./index-BkwjXYND.js";import{S as c}from"./index-CTC0mqjA.js";const $="_appointment_wrapper_myda9_1",N="_appointment_content_wrapper_myda9_53",C="_appointment_container_myda9_63",I="_appointment_barber_container_myda9_75",E="_appointment_content_list_container_myda9_117",L="_appointment_body_customer_item_myda9_130",T="_dark_myda9_189",r={appointment_wrapper:$,appointment_content_wrapper:N,appointment_container:C,appointment_barber_container:I,appointment_content_list_container:E,appointment_body_customer_item:L,dark:T},O=()=>{var m,_;const l=f();console.log(l.state);const j=b(a=>a.AdminLoggedInMiddleware.adminSalonId),t=b(w)==="On",[p,M]=s.useState(l.state),[v,d]=s.useState(!1),[n,y]=s.useState([]);return s.useEffect(()=>{try{d(!0),(async()=>{const{data:i}=await S.post("/api/appointments/getAllAppointmentsBySalonIdAndDate",{salonId:j,appointmentDate:p});y(i),d(!1)})()}catch{d(!1)}},[p]),e.jsxs("div",{className:`${r.appointment_wrapper} ${t&&r.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Appointment List"}),e.jsx("p",{children:l.state})]}),e.jsx("div",{className:`${r.appointment_content_wrapper} ${t&&r.dark}`,children:v?e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",gap:"1.2rem"},children:[e.jsx(c,{count:1,style:{width:"30rem",height:"100%"},baseColor:t?"var(--dark-loader-bg-color)":"var(--light-loader-bg-color)",highlightColor:t?"var(--dark-loader-highlight-color)":"var(--light-loader-highlight-color)"}),e.jsx(c,{count:1,style:{width:"30rem",height:"100%"},baseColor:t?"var(--dark-loader-bg-color)":"var(--light-loader-bg-color)",highlightColor:t?"var(--dark-loader-highlight-color)":"var(--light-loader-highlight-color)"}),e.jsx(c,{count:1,style:{width:"30rem",height:"100%"},baseColor:t?"var(--dark-loader-bg-color)":"var(--light-loader-bg-color)",highlightColor:t?"var(--dark-loader-highlight-color)":"var(--light-loader-highlight-color)"})]}):((m=n==null?void 0:n.response)==null?void 0:m.length)>0?(_=n==null?void 0:n.response)==null?void 0:_.map(a=>{var i,h;return e.jsx(A.Fragment,{children:e.jsxs("main",{className:`${r.appointment_container} ${t?r.dark:""}`,children:[e.jsxs("div",{className:`${r.appointment_barber_container} ${t?r.dark:""}`,children:[e.jsx("div",{children:e.jsx("img",{src:(h=(i=a.barberProfile)==null?void 0:i[0])==null?void 0:h.url,alt:"profile"})}),e.jsx("p",{children:a.barbername})]}),e.jsx("main",{className:r.appointment_content_list_container,children:a==null?void 0:a.appointments.map(o=>{var g,x;return e.jsxs("div",{className:`${r.appointment_body_customer_item} ${t?r.dark:""}`,children:[e.jsx("div",{children:e.jsx("img",{src:(x=(g=o.customerProfile)==null?void 0:g[0])==null?void 0:x.url,alt:""})}),e.jsxs("div",{children:[e.jsx("p",{children:o.customerName}),e.jsxs("p",{children:["Time: ",o.startTime," - ",o.endTime]}),e.jsxs("p",{children:["EWT -"," ",o.services.reduce((k,u)=>k+u.barberServiceEWT,0)," ","mins"]})]})]},o._id)})})]})},a.barberId)}):e.jsx("div",{style:{display:"grid",placeItems:"center",width:"100%",fontSize:"var(--font-size-3)",fontWeight:"500"},children:e.jsx("p",{children:"No Appointment available"})})})]})};export{O as default};
