import{c as B,r as n,a as L,b as C,u as p,d as R,j as e,E as $,N as I,G as D,L as M,H as W,_ as t}from"./index-BkwjXYND.js";import{B as A,a as G}from"./AuthAction-BrQsmJT2.js";import{B as K}from"./ButtonLoader-nFX9mHfd.js";const q="_barber_signin_container_wx0sy_1",H="_barber_signin_left_wx0sy_8",O="_barber_signin_right_wx0sy_24",F="_homeicon_wx0sy_71",U="_password_container_wx0sy_105",V="_signin_btn_wx0sy_160",Y="_error_message_wx0sy_217",J="_dark_wx0sy_226",r={barber_signin_container:q,barber_signin_left:H,barber_signin_right:O,homeicon:F,password_container:U,signin_btn:V,error_message:Y,dark:J},re=()=>{const w=B(),c=new URLSearchParams(w.search).get("email");console.log(c),n.useEffect(()=>{c&&_(c)},[]);const[i,_]=n.useState(""),[a,j]=n.useState(""),b=L(),o=C(),v=s=>{b(A(s.credential,o))},y=()=>{},[T,k]=n.useState(window.innerWidth);n.useEffect(()=>{const s=()=>{k(window.innerWidth)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]);const[m,S]=n.useState(!1),E=()=>{o("/barberforgotpassword")},[u,d]=n.useState(""),[h,l]=n.useState(""),P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,x=()=>{if(!i)return t.error("Please enter email",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),d("Please enter email");if(!P.test(i))return t.error("Invalid email format",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),d("Invalid email format");if(!a)return t.error("Please enter password",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Please enter password");if(a.length<8)return t.error("Password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Password length must be 8 charecters");b(G({email:i,password:a},o))},f=s=>{s.key==="Enter"&&x()},z=p(s=>s.BarberSignin),{loading:N}=z,g=p(R)==="On";return e.jsxs("main",{className:`${r.barber_signin_container} ${g&&r.dark}`,children:[e.jsx("div",{className:r.barber_signin_left,children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signin"})}),e.jsxs("div",{className:`${r.barber_signin_right} ${g&&r.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Sign In to your Barber Account"}),e.jsx("p",{children:"Welcome back Barber! please enter your details"}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Enter Your Email ID",value:i,onChange:s=>{d(""),_(s.target.value)},onKeyDown:f,style:{border:u?"0.1rem solid red":void 0}}),e.jsx("p",{className:r.error_message,children:u})]}),e.jsxs("div",{children:[e.jsxs("div",{className:`${r.password_container} ${g&&r.dark}`,style:{border:h?"0.1rem solid red":void 0},children:[e.jsx("input",{type:m?"text":"password",placeholder:"Password",value:a,onChange:s=>{l(""),j(s.target.value)},onKeyDown:f}),e.jsx("div",{onClick:()=>S(s=>!s),children:m?e.jsx($,{}):e.jsx(I,{})})]}),e.jsx("p",{className:r.error_message,children:h})]}),e.jsx("div",{children:e.jsx("p",{onClick:E,children:"Forgot Password ?"})}),N?e.jsx("button",{style:{display:"grid",placeItems:"center"},className:r.signin_btn,children:e.jsx(K,{})}):e.jsx("button",{onClick:x,className:r.signin_btn,children:"Signin"}),e.jsxs("div",{children:[e.jsx("div",{}),e.jsx("p",{children:"or"}),e.jsx("div",{})]}),e.jsx(D,{onSuccess:v,onError:y,size:"large",shape:"circle",logo_alignment:"left",text:"continue_with"}),e.jsxs("p",{children:["Don't you have an account ? ",e.jsx(M,{to:"/barbersignup",children:"Sign up"})]})]}),e.jsx("div",{className:r.homeicon,onClick:()=>o("/"),children:e.jsx(W,{})})]})]})};export{re as default};
