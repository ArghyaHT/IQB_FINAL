import{u as z,c as F,r as s,a as R,b as y,j as e,_ as H}from"./index-CK22OTTq.js";import{d as T}from"./AuthAction-C43FjZfD.js";import{l as $,U as Y}from"./libphonenumber-Cnp-FZbi.js";import{B as _}from"./ButtonLoader-BP4uX0Ky.js";import{g as q}from"./AdminProfileAction-CxcAH5xv.js";import{C as J}from"./ClickAwayListener-B2naafTb.js";import"./index-BzBN0j8j.js";import"./getReactElementRef-Bi8rSHjJ.js";const Q="_admin_signup_edit_container_yzvvi_1",W="_signup_head_yzvvi_37",C={admin_signup_edit_container:Q,signup_head:W},ae=()=>{var b;const u=z(),l=F(),i=(b=l==null?void 0:l.state)==null?void 0:b.newUser,[p,S]=s.useState(""),[m,k]=s.useState(""),[a,N]=s.useState(""),[h,A]=s.useState(""),[x,D]=s.useState(""),g=R(),[I,d]=s.useState(!1),E=()=>{d(n=>!n)},c=n=>{N(n),d(!1)},[P,f]=s.useState(!1),j=()=>{if(P)H.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});else{const n={email:i==null?void 0:i.email,mobileNumber:Number(h),name:p,gender:a,dateOfBirth:m,salonId:i==null?void 0:i.salonId,AuthType:i==null?void 0:i.AuthType,countryCode:Number(x)};u(T(n,g))}},w=()=>{const n={email:i==null?void 0:i.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:i==null?void 0:i.salonId,countryCode:Number(x)};u(q(n,g))},o=n=>{n.key==="Enter"&&j()},B=y(n=>n.AdminSignupEdit),{loading:K}=B,U=y(n=>n.adminSkipProfile),{loading:L}=U,v=$.PhoneNumberUtil.getInstance(),V=n=>{try{return v.isValidNumber(v.parseAndKeepRawInput(n))}catch{return!1}},[G,M]=s.useState("gb"),O=(n,r)=>{const{country:t,inputValue:X}=r;V(n)?(A(n),D(t==null?void 0:t.dialCode),M(t==null?void 0:t.iso2),f(!1)):f(!0)};return e.jsxs("main",{className:C.admin_signup_edit_container,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"admin_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:C.signup_head,children:"Add Your Account Details"}),L?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(_,{})}):e.jsx("button",{onClick:()=>w(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:p,onChange:n=>S(n.target.value),onKeyDown:o})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${a?`${a}`:""}`,onClick:()=>E(),onKeyDown:o}),I&&e.jsx(J,{onClickAway:()=>d(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>c("Male"),children:"Male"}),e.jsx("p",{onClick:()=>c("Female"),children:"Female"}),e.jsx("p",{onClick:()=>c("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:m,onChange:n=>k(n.target.value),onKeyDown:o})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{children:e.jsx("div",{children:e.jsx(Y,{forceDialCode:!0,defaultCountry:G,value:h,onKeyDown:o,onChange:(n,r)=>O(n,r)})})})]}),e.jsx("div",{children:K?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(_,{})}):e.jsx("button",{onClick:()=>j(),children:"Update"})})]})})]})};export{ae as default};
