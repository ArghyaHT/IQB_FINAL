import{u as R,c as z,r as t,a as F,b as y,j as e,_ as H}from"./index-CIJl-UZQ.js";import{l as T,U as $}from"./libphonenumber-CDMNAZ3y.js";import{B as _}from"./ButtonLoader-Bl_AOGZC.js";import{e as Y}from"./AuthAction-1uOHSE8V.js";import{g as q}from"./BarberProfileAction-agkEyaNd.js";import{C as J}from"./ClickAwayListener-DD5M7gx7.js";import"./index-RTiQy-ZE.js";import"./getReactElementRef-CXs34_Mj.js";const Q="_barber_signup_edit_container_8zi40_1",W="_signup_head_8zi40_37",C={barber_signup_edit_container:Q,signup_head:W},le=()=>{var v;const u=R(),a=z(),s=(v=a==null?void 0:a.state)==null?void 0:v.newUser,[p,S]=t.useState(""),[h,k]=t.useState(""),[l,N]=t.useState(""),[m,D]=t.useState(""),[g,B]=t.useState(""),x=F(),[I,d]=t.useState(!1),A=()=>{d(n=>!n)},c=n=>{N(n),d(!1)},[E,f]=t.useState(!1),j=()=>{if(E)H.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});else{const n={email:s==null?void 0:s.email,mobileNumber:Number(m),name:p,gender:l,dateOfBirth:h,salonId:s==null?void 0:s.salonId,AuthType:s==null?void 0:s.AuthType,countryCode:Number(g)};u(Y(n,x))}},r=n=>{n.key==="Enter"&&j()},P=()=>{const n={email:s==null?void 0:s.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:s==null?void 0:s.salonId,countryCode:Number(g)};console.log(n),u(q(n,x))},w=y(n=>n.BarberSignupEdit),{loading:K}=w,U=y(n=>n.barberSkipProfile),{loading:L}=U,b=T.PhoneNumberUtil.getInstance(),V=n=>{try{return b.isValidNumber(b.parseAndKeepRawInput(n))}catch{return!1}},[G,M]=t.useState("gb"),O=(n,o)=>{const{country:i,inputValue:X}=o;V(n)?(D(n),B(i==null?void 0:i.dialCode),M(i==null?void 0:i.iso2),f(!1)):f(!0)};return e.jsxs("main",{className:C.barber_signup_edit_container,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:C.signup_head,children:"Add Your Account Details"}),L?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(_,{})}):e.jsx("button",{onClick:()=>P(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:p,onChange:n=>S(n.target.value),onKeyDown:r})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${l?`${l}`:""}`,onClick:()=>A(),onKeyDown:r}),I&&e.jsx(J,{onClickAway:()=>d(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>c("Male"),children:"Male"}),e.jsx("p",{onClick:()=>c("Female"),children:"Female"}),e.jsx("p",{onClick:()=>c("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:h,onChange:n=>k(n.target.value),onKeyDown:r})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{children:e.jsx("div",{style:{background:"var(--bg-color3)",borderRadius:"1rem"},children:e.jsx($,{forceDialCode:!0,defaultCountry:G,value:m,onChange:(n,o)=>O(n,o),onKeyDown:r})})})]}),e.jsx("div",{children:K?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(_,{})}):e.jsx("button",{onClick:()=>j(),children:"Update"})})]})})]})};export{le as default};
