import{j as e,b3 as W,b4 as X,b5 as Y,b6 as Z,b7 as P,b8 as ee,b as _,r as l,u as oe,c as ne,a as se,d as ae,b9 as te,ba as R,bb as L,bc as O,bd as le}from"./index-DOAdIdml.js";import{S as ie}from"./index-DuU_Esms.js";import{e as G}from"./AuthAction-BLX8bNdk.js";import{g as de}from"./SalonAction-B1bs3lxB.js";import{a as re,b as _e}from"./AdminHeaderAction-BCsQYFG8.js";import{d as ce}from"./DashboardAction-Dhb_npE8.js";import{C as he}from"./ClickAwayListener-DPnNokqp.js";import{M as be}from"./Modal-CfcomtXx.js";const me=[{id:1,title:"Dashboard",icon:e.jsx(W,{}),url:"/admin-dashboard"},{id:2,title:"Salons",icon:e.jsx(X,{}),url:"/admin-salon"},{id:3,title:"Barbers",icon:e.jsx(Y,{}),url:"/admin-barber"},{id:4,title:"Customers",icon:e.jsx(Z,{}),url:"/admin-customer"},{id:5,title:"Advertisements",icon:e.jsx(P,{}),url:"/admin-advertise"},{id:6,title:"Queuelist",icon:e.jsx(ee,{}),url:"/admin-queue"}],ge="_admin_dashboard_header_wrapper_51nh4_1",ue="_choose_salon_div_51nh4_11",pe="_profile_wrapper_51nh4_15",xe="_dashboard_salon_list_dropdown_51nh4_99",ve="_mobile_choose_salon_div_51nh4_197",je="_dashboard_mobile_menu_51nh4_201",fe="_dashboard_mobile_sidebar_container_51nh4_205",Ae="_profile_drop_container_51nh4_214",Ie="_salon_toggle_btn_container_51nh4_287",ke="_salononline_toggle_btn_51nh4_302",we="_salononline_toggle_active_51nh4_319",Se="_salononline_toggle_inactive_51nh4_329",ye="_salononline_toggle_btn_text_51nh4_339",Ce="_salononline_toggle_btn_text_active_51nh4_352",Ne="_salononline_toggle_btn_text_inactive_51nh4_358",$e="_chooseSalon_modal_51nh4_396",Ee="_chooseSalon_model_content_51nh4_407",De="_mobile_dashboard_salon_list_dropdown_51nh4_475",Me="_dashboard_mobile_item_51nh4_599",Re="_dashboard_mobile_item_active_51nh4_636",Le="_dashboard_mobile_siderbar_content_container_51nh4_650",Oe="_dashboard_mobile_sidebar_active_51nh4_655",Ge="_dashboard_mobile_sidebar_inactive_51nh4_661",He="_dashboard_theme_container_51nh4_666",s={admin_dashboard_header_wrapper:ge,choose_salon_div:ue,profile_wrapper:pe,dashboard_salon_list_dropdown:xe,mobile_choose_salon_div:ve,dashboard_mobile_menu:je,dashboard_mobile_sidebar_container:fe,profile_drop_container:Ae,salon_toggle_btn_container:Ie,salononline_toggle_btn:ke,salononline_toggle_active:we,salononline_toggle_inactive:Se,salononline_toggle_btn_text:ye,salononline_toggle_btn_text_active:Ce,salononline_toggle_btn_text_inactive:Ne,chooseSalon_modal:$e,chooseSalon_model_content:Ee,mobile_dashboard_salon_list_dropdown:De,dashboard_mobile_item:Me,dashboard_mobile_item_active:Re,dashboard_mobile_siderbar_content_container:Le,dashboard_mobile_sidebar_active:Oe,dashboard_mobile_sidebar_inactive:Ge,dashboard_theme_container:He},Xe=()=>{var M;const n=_(o=>o.AdminLoggedInMiddleware.entiredata.user[0]),x=_(o=>o.AdminLoggedInMiddleware.adminEmail),H=_(o=>o.AdminLoggedInMiddleware.adminSalonId),[N,v]=l.useState(!1),[T,Te]=l.useState(!1),j=l.useRef();l.useEffect(()=>{let o=r=>{j.current&&!j.current.contains(r.target)&&(console.log(j.current.contains(r.target)),v(!1))};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[z,f]=l.useState(!1),[B,m]=l.useState(!1),i=oe(),c=ne(),g=se(),A=l.useRef();l.useEffect(()=>{const o=r=>{A.current&&!A.current.contains(r.target)&&m(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const[q,I]=l.useState(!1),k=l.useRef(),w=l.useRef();l.useEffect(()=>{const o=r=>{k.current&&w.current&&!k.current.contains(r.target)&&!w.current.contains(r.target)&&I(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const F=async()=>{i(G(g))},S=l.useRef(new AbortController);l.useEffect(()=>{const o=new AbortController;return S.current=o,i(de(x,o.signal)),()=>{S.current&&S.current.abort()}},[x,i]);const Q=_(o=>o.getAdminSalonList),{loading:h,resolve:b,salons:a}=Q,$=o=>{i({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:o.salonName,chooseSalonId:o.salonId}}),v(!1)},t=_(o=>o.adminSetSalon),E=()=>{const o={salonId:t==null?void 0:t.chooseSalonId,adminEmail:x};i(_e(o))},y=l.useRef(new AbortController);l.useEffect(()=>{if(n){const o=new AbortController;return y.current=o,i(re(x,o.signal)),()=>{y.current&&y.current.abort()}}},[n,i]);const K=_(o=>o.adminApplySalon),{loading:D}=K,V=_(ae),J=_(o=>o.adminGetDefaultSalon),{loading:ze,resolve:Be,response:u}=J;l.useEffect(()=>{u&&C(u==null?void 0:u.isOnline)},[u]);const[p,C]=l.useState(!1),U=()=>{const o=!p;C(o),i(ce({salonId:H,isOnline:o},C,o))},d=V==="On";return e.jsxs("div",{className:`${s.admin_dashboard_header_wrapper} ${d&&s.dark}`,children:[(c==null?void 0:c.pathname)==="/admin-dashboard"?e.jsxs("div",{className:`${s.choose_salon_div} ${d&&s.dark}`,children:[e.jsx("p",{}),(n==null?void 0:n.salonId)==0?e.jsx("div",{children:"No Salon Present"}):e.jsxs(e.Fragment,{children:[e.jsx(he,{onClickAway:()=>v(!1),children:e.jsxs("div",{onClick:()=>v(o=>!o),children:[e.jsx("p",{children:t==null?void 0:t.currentActiveSalon}),e.jsx("div",{children:e.jsx(te,{})}),e.jsx("div",{className:`${s.dashboard_salon_list_dropdown} ${d&&s.dark}`,style:{opacity:N?"1":"0",zIndex:N?"2":"-1",transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"15rem"},children:h?e.jsx("p",{children:"Loading..."}):!b||(a==null?void 0:a.length)===0?e.jsx("p",{children:"No Salon Present"}):a.map(o=>e.jsx("p",{onClick:()=>$(o),style:{background:o.salonId===(n==null?void 0:n.salonId)?"#0866ff":void 0,color:o.salonId===(n==null?void 0:n.salonId)?"var(--primary-text-light-color1)":void 0,boxShadow:o.salonId===(n==null?void 0:n.salonId)?"0px 1px 6px rgba(0,0,0,0.2)":void 0},children:o.salonName},o._id))})]})}),!h&&b&&e.jsx("button",{onClick:E,disabled:!!((n==null?void 0:n.salonId)==(t==null?void 0:t.chooseSalonId)||D),style:{cursor:(n==null?void 0:n.salonId)==(t==null?void 0:t.chooseSalonId)&&"not-allowed"},children:"Apply"})]})]}):e.jsx("div",{}),(c==null?void 0:c.pathname)==="/admin-dashboard"?e.jsx("div",{className:s.mobile_choose_salon_div,children:e.jsx("button",{onClick:()=>f(o=>!o),children:"Select Salon"})}):e.jsx("div",{}),e.jsx(be,{open:z,onClose:()=>f(!1),"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:e.jsx("section",{className:s.chooseSalon_modal,children:e.jsxs("div",{className:`${s.chooseSalon_model_content} ${d&&s.dark}`,children:[e.jsx("button",{onClick:()=>f(!1),children:e.jsx(R,{})}),e.jsx("p",{children:"Choose Salon"}),e.jsx("div",{children:e.jsx("p",{children:t==null?void 0:t.currentActiveSalon})}),e.jsx("div",{className:s.mobile_dashboard_salon_list_dropdown,style:{opacity:1,zIndex:2,transition:"300ms ease",height:(a==null?void 0:a.length)>0&&(a==null?void 0:a.length)<=4?"auto":"20rem"},children:h&&!b?e.jsx("p",{children:"No Salon Present"}):!h&&b&&(a==null?void 0:a.length)>0?a.map(o=>e.jsx("p",{onClick:()=>$(o),style:{background:o.salonId==(n==null?void 0:n.salonId)&&"#0866ff",color:o.salonId==(n==null?void 0:n.salonId)&&"var(--primary-text-light-color1)"},children:o.salonName},o._id)):!h&&b&&(a==null?void 0:a.length)==0?e.jsx("p",{children:"No Salon Present"}):!h&&!b&&e.jsx("p",{children:"No Salon Present"})}),(n==null?void 0:n.salonId)!==0&&!h&&b&&e.jsx("button",{onClick:E,disabled:!!((n==null?void 0:n.salonId)==(t==null?void 0:t.chooseSalonId)||D),children:"Apply"})]})})}),e.jsxs("div",{className:`${s.profile_wrapper} ${d&&s.dark}`,children:[(n==null?void 0:n.salonId)==0?e.jsx("div",{}):e.jsxs("div",{className:s.salon_toggle_btn_container,style:{outline:p?"1px solid limegreen":"1px solid red"},children:[e.jsx("p",{className:`${s.salononline_toggle_btn_text} ${p?s.salononline_toggle_btn_text_active:s.salononline_toggle_btn_text_inactive}`,children:p?"Online":"Offline"}),e.jsx("button",{className:`${s.salononline_toggle_btn} ${p?s.salononline_toggle_active:s.salononline_toggle_inactive}`,onClick:U})]}),T?e.jsx(ie,{count:1,height:"4.5rem",width:"4.5rem",style:{borderRadius:"50%"}}):e.jsxs("div",{children:[e.jsx("img",{src:(M=n==null?void 0:n.profile[0])==null?void 0:M.url,onError:()=>setSrc("https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"),alt:"admin-profile",onClick:()=>I(o=>!o),ref:k}),q&&e.jsxs("div",{ref:w,className:`${s.profile_drop_container} ${d&&s.dark}`,children:[e.jsxs("div",{onClick:()=>{g("/admin-dashboard/editprofile"),I(!1)},children:[e.jsx("div",{children:e.jsx(L,{})}),e.jsx("div",{children:"My Profile"})]}),e.jsxs("div",{onClick:F,children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsx("div",{children:"Logout"})]})]})]}),e.jsx("div",{onClick:()=>m(!0),className:`${s.dashboard_mobile_menu} ${d&&s.dark}`,children:e.jsx(le,{})})]}),e.jsxs("div",{className:`${s.dashboard_mobile_sidebar_container} ${B?s.dashboard_mobile_sidebar_active:s.dashboard_mobile_sidebar_inactive} ${d&&s.dark}`,ref:A,children:[e.jsx("button",{onClick:()=>m(!1),children:e.jsx(R,{})}),e.jsxs("main",{className:s.dashboard_mobile_siderbar_content_container,children:[me.map(o=>e.jsxs("div",{className:`${s.dashboard_mobile_item} ${c.pathname.includes(o.url)&&s.dashboard_mobile_item_active}`,onClick:()=>{g(o==null?void 0:o.url),m(!1)},children:[e.jsx("div",{style:{},children:o.icon}),e.jsx("p",{style:{},children:o.title})]},o.id)),e.jsxs("div",{onClick:()=>{m(!1),g("/admin-dashboard/editprofile")},className:s.dashboard_mobile_item,children:[e.jsx("div",{children:e.jsx(L,{})}),e.jsx("p",{children:"Profile"})]}),e.jsxs("div",{onClick:()=>i(G(g)),className:s.dashboard_mobile_item,children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsx("p",{children:"Logout"})]})]})]})]})};export{Xe as D,me as m};
