import{u as l,d as w,a as q,r as c,j as e,z as f,A as k,aF as C,C as N}from"./index-BkwjXYND.js";import{S}from"./index-CTC0mqjA.js";import{g as $}from"./QueueAction-D2RUG2eM.js";const A="_quehistory_wrapper_eb79w_1",L="_customer_search_eb79w_26",Q="_quehistory_wrapper_content_eb79w_63",I="_quehistory_wrapper_content_body_eb79w_73",E="_quehistory_wrapper_content_body_error_eb79w_130",H="_dark_eb79w_144",s={quehistory_wrapper:A,customer_search:L,quehistory_wrapper_content:Q,quehistory_wrapper_content_body:I,quehistory_wrapper_content_body_error:E,dark:H},W=()=>{const t=l(w)==="On",h=l(r=>r.AdminLoggedInMiddleware.adminSalonId),_=q(),d=c.useRef(new AbortController);c.useEffect(()=>{const r=new AbortController;return d.current=r,_($(h,r.signal)),()=>{d.current&&d.current.abort()}},[h,_]);const u=l(r=>r.getAdminQueueListHistory),{loading:x,resolve:j,queueListHistory:o}=u,[n,a]=c.useState([]);c.useEffect(()=>{o&&a(o)},[o]);const[m,y]=c.useState(""),g=r=>{y(r);const i=r.toLowerCase().trim();if(!i)a(o);else{const v=o==null?void 0:o.filter(p=>p.barberName.toLowerCase().includes(i)||p.customerName.toLowerCase().includes(i));a(v)}};return e.jsxs("div",{className:`${s.quehistory_wrapper} ${t&&s.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Queue History"}),e.jsxs("div",{className:`${s.customer_search} ${t&&s.dark}`,children:[e.jsx("input",{type:"text",placeholder:"Search Queue",value:m,onChange:r=>g(r.target.value)}),e.jsx("div",{children:e.jsx(f,{})})]})]}),e.jsx("div",{className:`${s.quehistory_wrapper_content}`,children:x?e.jsx("div",{className:s.quehistory_wrapper_content_body,children:e.jsx(S,{count:6,height:"6rem",style:{marginBottom:"1rem"},baseColor:t?"var(--dark-loader-bg-color)":"var(--light-loader-bg-color)",highlightColor:t?"var(--dark-loader-highlight-color)":"var(--light-loader-highlight-color)"})}):j&&(n==null?void 0:n.length)>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${s.quehistory_wrapper_content_body} ${t&&s.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"#"}),e.jsx("p",{children:"Name"}),e.jsx("p",{children:"Barber Name"}),e.jsx("p",{children:"Time Joined Q"}),e.jsx("div",{children:e.jsx("p",{children:"Qg Code"})}),e.jsx("div",{children:e.jsx("p",{children:"EWT"})}),e.jsx("div",{children:e.jsx("p",{children:"Type"})}),e.jsx("div",{children:e.jsx("p",{children:"isAdmin"})}),e.jsx("div",{children:e.jsx("p",{children:"Status"})})]}),n==null?void 0:n.map((r,i)=>e.jsxs("div",{className:`${s.barber_queue_history_content_body_item} ${t&&s.dark}`,style:{borderBottom:n.length-1===i&&"none"},children:[e.jsx("p",{children:r==null?void 0:r.qPosition}),e.jsx("p",{children:r==null?void 0:r.customerName}),e.jsx("p",{children:r==null?void 0:r.barberName}),e.jsx("p",{children:r==null?void 0:r.timeJoinedQ}),e.jsx("div",{children:e.jsx("p",{children:r==null?void 0:r.qgCode})}),e.jsx("div",{children:e.jsx("p",{children:r==null?void 0:r.serviceEWT})}),e.jsx("div",{children:e.jsx("p",{children:(r==null?void 0:r.serviceType)==="Regular"?"-":e.jsx(k,{})})}),e.jsx("div",{children:r!=null&&r.isAdmin?e.jsx("p",{style:{color:"green"},children:e.jsx(C,{})}):e.jsx("p",{style:{fontSize:"2rem",fontWeight:"700",color:"red"},children:e.jsx(N,{})})}),e.jsx("div",{children:e.jsx("p",{style:{color:(r==null?void 0:r.status)=="served"?"green":"red"},children:r==null?void 0:r.status})})]},r==null?void 0:r._id))]})}):e.jsx("div",{className:`${s.quehistory_wrapper_content_body_error} ${t&&s.dark}`,children:e.jsx("p",{children:"No Queue history available"})})})]})};export{W as default};
