import{cK as m,q as i,cL as _,cM as c,_ as r,cN as p,cO as g,bf as E,cP as y,cQ as U,cR as R,cS as f}from"./index-AHqq0E29.js";const A=(d,l,o)=>async n=>{var s,a,u,e;try{n({type:p});const{data:t}=await i.post("/api/queue/barberServedQueue",d);n({type:g,payload:t}),r.success("Customer serve successfully",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),o({open:!1,data:{}});const{data:S}=await i.get(`/api/queue/getQListBySalonId?salonId=${l}`);n({type:E,payload:S})}catch(t){if(((s=t==null?void 0:t.response)==null?void 0:s.status)===500){n({type:y,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}n({type:y,payload:(a=t==null?void 0:t.response)==null?void 0:a.data}),r.error((e=(u=t==null?void 0:t.response)==null?void 0:u.data)==null?void 0:e.message,{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}})}},b=(d,l)=>async o=>{var n,s,a,u;try{o({type:U});const{data:e}=await i.post("/api/queue/cancelQ",d);o({type:R,payload:e}),r.success("Customer cancel successfully",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});const{data:t}=await i.get(`/api/queue/getQListBySalonId?salonId=${l}`);o({type:E,payload:t})}catch(e){if(((n=e==null?void 0:e.response)==null?void 0:n.status)===500){o({type:f,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}o({type:f,payload:(s=e==null?void 0:e.response)==null?void 0:s.data}),r.error((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.message,{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}})}},C=(d,l)=>async o=>{var n,s;try{o({type:m});const{data:a}=await i.post("/api/queueHistory/getQueueHistoryBySalonId",{salonId:d},{signal:l});o({type:_,payload:a})}catch(a){if(((n=a==null?void 0:a.response)==null?void 0:n.status)===500){o({type:c,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}a.name!=="CanceledError"&&o({type:c,payload:(s=a==null?void 0:a.response)==null?void 0:s.data})}};export{b as a,A as b,C as g};
