import{u as $,c as Y,r as s,a as q,b as k,j as e,_ as D}from"./index-LE4wwcdg.js";import{l as J,U as Q}from"./libphonenumber-B8L-nP3C.js";import{B as E}from"./ButtonLoader-evyw5ydJ.js";import{e as W}from"./AuthAction-vVSIWaU-.js";import{g as X}from"./BarberProfileAction-CLoPBDO1.js";import{g as Z}from"./Date-Cuhd30XP.js";import{C as ee}from"./ClickAwayListener-BjWiiOUW.js";import"./index-C8qIyj46.js";import"./getReactElementRef-Difek1I8.js";const re="_barber_signup_edit_container_1bvn9_1",ne="_signup_head_1bvn9_37",se="_error_message_1bvn9_197",l={barber_signup_edit_container:re,signup_head:ne,error_message:se},ge=()=>{var S;const p=$(),d=Y(),n=(S=d==null?void 0:d.state)==null?void 0:S.newUser,[i,I]=s.useState(""),[h,w]=s.useState(""),[c,B]=s.useState(""),[g,A]=s.useState(""),[b,P]=s.useState(""),x=q(),[K,u]=s.useState(!1),U=()=>{u(r=>!r)},m=r=>{B(r),u(!1)},[L,f]=s.useState(!1),[j,_]=s.useState(""),[v,y]=s.useState(""),C=()=>{if(i.length===0||i.length>20)return D.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Name must be between 1 to 20 characters");if(L)return D.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),y("Invalid Number");const r={email:n==null?void 0:n.email,mobileNumber:Number(g),name:i,gender:c,dateOfBirth:h,salonId:n==null?void 0:n.salonId,AuthType:n==null?void 0:n.AuthType,countryCode:Number(b)};p(W(r,x))},o=r=>{r.key==="Enter"&&C()},R=()=>{const r={email:n==null?void 0:n.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:n==null?void 0:n.salonId,countryCode:Number(b)};console.log(r),p(X(r,x))},V=k(r=>r.BarberSignupEdit),{loading:G}=V,M=k(r=>r.barberSkipProfile),{loading:O}=M,N=J.PhoneNumberUtil.getInstance(),F=r=>{try{return N.isValidNumber(N.parseAndKeepRawInput(r))}catch{return!1}},[z,H]=s.useState("gb"),T=(r,a)=>{y("");const{country:t,inputValue:te}=a;F(r)?(A(r),P(t==null?void 0:t.dialCode),H(t==null?void 0:t.iso2),f(!1)):f(!0)};return e.jsxs("main",{className:l.barber_signup_edit_container,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:l.signup_head,children:"Add Your Account Details"}),O?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(E,{})}):e.jsx("button",{onClick:()=>R(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:r=>{_(""),I(r.target.value)},onKeyDown:o,style:{border:j?"0.1rem solid red":"none"}}),e.jsx("p",{className:l.error_message,children:j})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${c?`${c}`:""}`,onClick:()=>U(),onKeyDown:o}),K&&e.jsx(ee,{onClickAway:()=>u(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>m("Male"),children:"Male"}),e.jsx("p",{onClick:()=>m("Female"),children:"Female"}),e.jsx("p",{onClick:()=>m("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:h,onChange:r=>w(r.target.value),onKeyDown:o,max:Z()})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{style:{border:v&&"0.1rem solid red"},children:e.jsx("div",{style:{background:"var(--bg-color3)",borderRadius:"1rem"},children:e.jsx(Q,{forceDialCode:!0,defaultCountry:z,value:g,onChange:(r,a)=>T(r,a),onKeyDown:o})})}),e.jsx("p",{className:l.error_message,children:v})]}),e.jsx("div",{children:G?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(E,{})}):e.jsx("button",{onClick:()=>C(),children:"Update"})})]})})]})};export{ge as default};
