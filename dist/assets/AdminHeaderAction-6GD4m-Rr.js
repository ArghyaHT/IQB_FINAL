import{bw as _,x as p,bx as m,by as y,_ as r,bz as c,bA as g,bB as A}from"./index-zklAvn-K.js";const b=i=>async n=>{var l,e,t,s;try{n({type:c});const{data:o}=await p.post("/api/admin/changeDefaultSalonIdofAdmin",i);n({type:g,payload:o}),localStorage.setItem("barberdata",JSON.stringify({})),localStorage.setItem("salondata",JSON.stringify({})),window.location.reload()}catch(o){if(((l=o==null?void 0:o.response)==null?void 0:l.status)===500){n({type:A,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}n({type:A,payload:(e=o==null?void 0:o.response)==null?void 0:e.data}),r.error((s=(t=o==null?void 0:o.response)==null?void 0:t.data)==null?void 0:s.message,{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}})}},N=(i,n,l)=>async e=>{var t,s,o,S,d,f;try{e({type:_});const{data:a}=await p.post("/api/admin/getDefaultSalonByAdmin",{adminEmail:i},{signal:n});e({type:m,payload:a}),e({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:(t=a==null?void 0:a.response)==null?void 0:t.salonName,chooseSalonId:(s=a==null?void 0:a.response)==null?void 0:s.salonId}})}catch(a){if(((o=a==null?void 0:a.response)==null?void 0:o.status)===500){e({type:y,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}a.name!=="CanceledError"&&(e({type:y,payload:(S=a==null?void 0:a.response)==null?void 0:S.data}),r.error((f=(d=a==null?void 0:a.response)==null?void 0:d.data)==null?void 0:f.message,{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}))}};export{N as a,b};
