import{a as de,f as ce,r as n,b as ue,u as j,d as me,j as e,_ as d}from"./index-smej7xwq.js";import{l as pe,U as fe}from"./libphonenumber-PSfFT2tU.js";import{B as $}from"./ButtonLoader-BLdiC7PJ.js";import{e as he}from"./AuthAction-CntHCeqo.js";import{g as ge}from"./BarberProfileAction-egNUtQjq.js";import{g as _e,C as be}from"./Date-gKmymVnx.js";import{C as L}from"./ClickAwayListener-CmpceTmi.js";import"./clsx-B-dksMZM.js";import"./index-CtLL9ryC.js";import"./getReactElementRef-CSb6vkGd.js";const xe="_barber_signup_edit_container_f1un7_1",je="_signup_head_f1un7_38",ye="_error_message_f1un7_198",ve="_mobile_container_f1un7_204",Se="_calender_container_f1un7_213",ke="_calender_drop_container_f1un7_217",Ce="_dark_f1un7_227",s={barber_signup_edit_container:xe,signup_head:je,error_message:ye,mobile_container:ve,calender_container:Se,calender_drop_container:ke,dark:Ce},Re=()=>{var O;const y=de(),f=ce(),t=(O=f==null?void 0:f.state)==null?void 0:O.newUser,[i,V]=n.useState(""),[c,v]=n.useState(""),[u,K]=n.useState(""),[S,U]=n.useState(""),[k,Y]=n.useState(""),C=ue(),[G,h]=n.useState(!1),F=()=>{h(r=>!r)},g=r=>{K(r),h(!1)},[H,N]=n.useState(!1),[D,_]=n.useState(""),[w,E]=n.useState(""),[P,z]=n.useState(""),[m,b]=n.useState(""),B=()=>{if(!i)return d.error("Please enter name",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Please enter name");if(i.length===0||i.length>20)return d.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Name must be between 1 to 20 characters");if(!u)return d.error("Please select gender",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),E("Please select gender");if(!c)return d.error("Please select date of birth",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),b("Please select date of birth");if(H)return d.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),z("Invalid Number");const r={email:t==null?void 0:t.email,mobileNumber:Number(S),name:i,gender:u,dateOfBirth:c,salonId:t==null?void 0:t.salonId,AuthType:t==null?void 0:t.AuthType,countryCode:Number(k)};y(he(r,C))},p=r=>{r.key==="Enter"&&B()},T=()=>{const r={email:t==null?void 0:t.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:t==null?void 0:t.salonId,countryCode:Number(k)};y(ge(r,C))},q=j(r=>r.BarberSignupEdit),{loading:W}=q,J=j(r=>r.barberSkipProfile),{loading:Q}=J,I=pe.PhoneNumberUtil.getInstance(),X=r=>{try{return I.isValidNumber(I.parseAndKeepRawInput(r))}catch{return!1}},[Z,ee]=n.useState("gb"),re=(r,o)=>{z("");const{country:a,inputValue:M}=o;X(r)?(U(r),Y(a==null?void 0:a.dialCode),ee(a==null?void 0:a.iso2),N(!1)):N(!0)},l=j(me)==="On";n.useEffect(()=>{const r=document.querySelector(".react-international-phone-input-container .react-international-phone-input");r&&(r.style.color=l?"var(--light-color-4)":"var(--light-color-2)")},[l]);const[ne,x]=n.useState(!1),te=()=>{x(!1)},[se,oe]=n.useState(new Date),ae=r=>{const o=new Date(r),a=o.getFullYear(),M=String(o.getMonth()+1).padStart(2,"0"),R=String(o.getDate()).padStart(2,"0");return`${a}-${M}-${R}`},ie=r=>{const o=ae(r);oe(o),b(""),v(o),x(!1)},[le,A]=n.useState(!1);return n.useEffect(()=>{const r=()=>{window.innerWidth<=576?A(!0):A(!1)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e.jsxs("main",{className:`${s.barber_signup_edit_container} ${l&&s.dark}`,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:s.signup_head,children:"Add Your Account Details"}),Q?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx($,{})}):e.jsx("button",{onClick:()=>T(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:r=>{_(""),V(r.target.value)},onKeyDown:p,style:{border:D?"0.1rem solid red":"none"}}),e.jsx("p",{className:s.error_message,children:D})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${u?`${u}`:""}`,onClick:()=>{E(""),F()},onKeyDown:p,style:{border:w?"0.1rem solid red":"none"},readOnly:!0}),e.jsx("p",{className:s.error_message,children:w}),G&&e.jsx(L,{onClickAway:()=>h(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>g("Male"),children:"Male"}),e.jsx("p",{onClick:()=>g("Female"),children:"Female"}),e.jsx("p",{onClick:()=>g("Other"),children:"Other"})]})})]}),le?e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:c,onChange:r=>{b(""),v(r.target.value)},onKeyDown:p,max:_e(),style:{colorScheme:l?"dark":"light",border:m&&"0.1rem solid red"}}),e.jsx("p",{className:s.error_message,children:m})]}):e.jsxs("div",{className:s.calender_container,children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"text",placeholder:"Select Date",value:c,onClick:()=>x(!0),style:{border:m&&"0.1rem solid red"},readOnly:!0}),e.jsx("p",{className:s.error_message,children:m}),ne&&e.jsx(L,{onClickAway:te,children:e.jsx("div",{className:s.calender_drop_container,children:e.jsx(be,{onChange:ie,value:se,maxDate:new Date})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{className:`${s.mobile_container} ${l&&s.dark}`,style:{border:P&&"0.1rem solid red"},children:e.jsx("div",{style:{background:"var(--bg-color3)",borderRadius:"1rem"},children:e.jsx(fe,{forceDialCode:!0,defaultCountry:Z,value:S,onChange:(r,o)=>re(r,o),onKeyDown:p})})}),e.jsx("p",{className:s.error_message,children:P})]}),e.jsx("div",{children:W?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx($,{})}):e.jsx("button",{onClick:()=>B(),children:"Update"})})]})})]})};export{Re as default};
