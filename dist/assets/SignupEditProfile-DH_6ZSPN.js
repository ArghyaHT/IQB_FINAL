import{u as $,c as Y,r as n,a as q,b as k,j as e,_ as D}from"./index-DDukCDKF.js";import{l as J,U as Q}from"./libphonenumber-CW8Dqfi3.js";import{B as E}from"./ButtonLoader-BzxIs721.js";import{e as W}from"./AuthAction-iFDQ70nW.js";import{g as X}from"./BarberProfileAction-DHQzPsXT.js";import{g as Z}from"./Date-D5SsnKrL.js";import{C as ee}from"./ClickAwayListener-DJIZgf83.js";import"./index-BkCjIGOe.js";import"./getReactElementRef-CL-l-k-U.js";const re="_barber_signup_edit_container_vlauj_1",se="_signup_head_vlauj_37",ne="_error_message_vlauj_197",l={barber_signup_edit_container:re,signup_head:se,error_message:ne},ge=()=>{var S;const p=$(),d=Y(),s=(S=d==null?void 0:d.state)==null?void 0:S.newUser,[i,I]=n.useState(""),[h,w]=n.useState(""),[c,B]=n.useState(""),[g,A]=n.useState(""),[b,P]=n.useState(""),x=q(),[K,u]=n.useState(!1),U=()=>{u(r=>!r)},m=r=>{B(r),u(!1)},[L,f]=n.useState(!1),[j,_]=n.useState(""),[v,y]=n.useState(""),C=()=>{if(i.length===0||i.length>20)return D.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Name must be between 1 to 20 characters");if(L)return D.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),y("Invalid Number");const r={email:s==null?void 0:s.email,mobileNumber:Number(g),name:i,gender:c,dateOfBirth:h,salonId:s==null?void 0:s.salonId,AuthType:s==null?void 0:s.AuthType,countryCode:Number(b)};p(W(r,x))},o=r=>{r.key==="Enter"&&C()},R=()=>{const r={email:s==null?void 0:s.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:s==null?void 0:s.salonId,countryCode:Number(b)};console.log(r),p(X(r,x))},V=k(r=>r.BarberSignupEdit),{loading:G}=V,M=k(r=>r.barberSkipProfile),{loading:O}=M,N=J.PhoneNumberUtil.getInstance(),F=r=>{try{return N.isValidNumber(N.parseAndKeepRawInput(r))}catch{return!1}},[z,H]=n.useState("gb"),T=(r,a)=>{y("");const{country:t,inputValue:te}=a;F(r)?(A(r),P(t==null?void 0:t.dialCode),H(t==null?void 0:t.iso2),f(!1)):f(!0)};return e.jsxs("main",{className:l.barber_signup_edit_container,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:l.signup_head,children:"Add Your Account Details"}),O?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(E,{})}):e.jsx("button",{onClick:()=>R(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:r=>{_(""),I(r.target.value)},onKeyDown:o,style:{border:j?"0.1rem solid red":"none"}}),e.jsx("p",{className:l.error_message,children:j})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${c?`${c}`:""}`,onClick:()=>U(),onKeyDown:o}),K&&e.jsx(ee,{onClickAway:()=>u(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>m("Male"),children:"Male"}),e.jsx("p",{onClick:()=>m("Female"),children:"Female"}),e.jsx("p",{onClick:()=>m("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:h,onChange:r=>w(r.target.value),onKeyDown:o,max:Z()})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{style:{border:v&&"0.1rem solid red"},children:e.jsx("div",{style:{background:"var(--bg-color3)",borderRadius:"1rem"},children:e.jsx(Q,{forceDialCode:!0,defaultCountry:z,value:g,onChange:(r,a)=>T(r,a),onKeyDown:o})})}),e.jsx("p",{className:l.error_message,children:v})]}),e.jsx("div",{children:G?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(E,{})}):e.jsx("button",{onClick:()=>C(),children:"Update"})})]})})]})};export{ge as default};
