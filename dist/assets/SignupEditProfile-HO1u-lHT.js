import{a as de,f as ce,r as n,b as ue,u as j,d as me,j as e,_ as d}from"./index-smej7xwq.js";import{d as pe}from"./AuthAction-DtGNWTA2.js";import{l as he,U as fe}from"./libphonenumber-PSfFT2tU.js";import{B as R}from"./ButtonLoader-BLdiC7PJ.js";import{g as ge}from"./AdminProfileAction-BoaNKlMP.js";import{g as _e,C as xe}from"./Date-gKmymVnx.js";import{C as L}from"./ClickAwayListener-CmpceTmi.js";import"./clsx-B-dksMZM.js";import"./index-CtLL9ryC.js";import"./getReactElementRef-CSb6vkGd.js";const be="_admin_signup_edit_container_1xk8s_1",je="_signup_head_1xk8s_38",ye="_error_message_1xk8s_198",ke="_mobile_container_1xk8s_204",ve="_calender_container_1xk8s_213",Se="_calender_drop_container_1xk8s_217",Ce="_dark_1xk8s_226",s={admin_signup_edit_container:be,signup_head:je,error_message:ye,mobile_container:ke,calender_container:ve,calender_drop_container:Se,dark:Ce},$e=()=>{var M;const y=de(),h=ce(),t=(M=h==null?void 0:h.state)==null?void 0:M.newUser,[i,V]=n.useState(""),[c,k]=n.useState(""),[u,K]=n.useState(""),[v,U]=n.useState(""),[S,Y]=n.useState(""),C=ue(),[G,f]=n.useState(!1),F=()=>{f(r=>!r)},g=r=>{K(r),f(!1)},[H,N]=n.useState(!1),[D,_]=n.useState(""),[w,E]=n.useState(""),[A,P]=n.useState(""),[m,x]=n.useState(""),z=()=>{if(!i)return d.error("Please enter name",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Please enter name");if(i.length===0||i.length>20)return d.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Name must be between 1 to 20 characters");if(!u)return d.error("Please select gender",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),E("Please select gender");if(!c)return d.error("Please select date of birth",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),x("Please select date of birth");if(H)return d.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),P("Invalid Number");const r={email:t==null?void 0:t.email,mobileNumber:Number(v),name:i,gender:u,dateOfBirth:c,salonId:t==null?void 0:t.salonId,AuthType:t==null?void 0:t.AuthType,countryCode:Number(S)};y(pe(r,C))},T=()=>{const r={email:t==null?void 0:t.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:t==null?void 0:t.salonId,countryCode:Number(S)};y(ge(r,C))},p=r=>{r.key==="Enter"&&z()},q=j(r=>r.AdminSignupEdit),{loading:W}=q,J=j(r=>r.adminSkipProfile),{loading:Q}=J,I=he.PhoneNumberUtil.getInstance(),X=r=>{try{return I.isValidNumber(I.parseAndKeepRawInput(r))}catch{return!1}},[Z,ee]=n.useState("gb"),re=(r,o)=>{P("");const{country:a,inputValue:B}=o;X(r)?(U(r),Y(a==null?void 0:a.dialCode),ee(a==null?void 0:a.iso2),N(!1)):N(!0)},l=j(me)==="On";n.useEffect(()=>{const r=document.querySelector(".react-international-phone-input-container .react-international-phone-input");r&&(r.style.color=l?"var(--light-color-4)":"var(--light-color-2)")},[l]);const[ne,b]=n.useState(!1),te=()=>{b(!1)},[se,oe]=n.useState(new Date),ae=r=>{const o=new Date(r),a=o.getFullYear(),B=String(o.getMonth()+1).padStart(2,"0"),$=String(o.getDate()).padStart(2,"0");return`${a}-${B}-${$}`},ie=r=>{const o=ae(r);oe(o),x(""),k(o),b(!1)},[le,O]=n.useState(!1);return n.useEffect(()=>{const r=()=>{window.innerWidth<=576?O(!0):O(!1)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e.jsxs("main",{className:`${s.admin_signup_edit_container} ${l&&s.dark}`,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"admin_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:s.signup_head,children:"Add Your Account Details"}),Q?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(R,{})}):e.jsx("button",{onClick:()=>T(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:r=>{_(""),V(r.target.value)},onKeyDown:p,style:{border:D?"0.1rem solid red":"none"}}),e.jsx("p",{className:s.error_message,children:D})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${u?`${u}`:""}`,onClick:()=>{E(""),F()},onKeyDown:p,style:{border:w?"0.1rem solid red":"none"},readOnly:!0}),e.jsx("p",{className:s.error_message,children:w}),G&&e.jsx(L,{onClickAway:()=>f(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>g("Male"),children:"Male"}),e.jsx("p",{onClick:()=>g("Female"),children:"Female"}),e.jsx("p",{onClick:()=>g("Other"),children:"Other"})]})})]}),le?e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:c,onChange:r=>{x(""),k(r.target.value)},onKeyDown:p,max:_e(),style:{colorScheme:l?"dark":"light",border:m&&"0.1rem solid red"}}),e.jsx("p",{className:s.error_message,children:m})]}):e.jsxs("div",{className:s.calender_container,children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"text",placeholder:"Select Date",value:c,onClick:()=>b(!0),style:{border:m&&"0.1rem solid red"},readOnly:!0}),e.jsx("p",{className:s.error_message,children:m}),ne&&e.jsx(L,{onClickAway:te,children:e.jsx("div",{className:s.calender_drop_container,children:e.jsx(xe,{onChange:ie,value:se,maxDate:new Date})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{className:`${s.mobile_container} ${l&&s.dark}`,style:{border:A&&"0.1rem solid red"},children:e.jsx("div",{children:e.jsx(fe,{forceDialCode:!0,defaultCountry:Z,value:v,onKeyDown:p,onChange:(r,o)=>re(r,o)})})}),e.jsx("p",{className:s.error_message,children:A})]}),e.jsx("div",{children:W?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(R,{})}):e.jsx("button",{onClick:()=>z(),children:"Update"})})]})})]})};export{$e as default};
