import{a as W,c as X,r as n,b as Z,u as b,d as ee,j as e,_ as l}from"./index-zklAvn-K.js";import{l as re,U as te}from"./libphonenumber-D0iGPoNL.js";import{B as z}from"./ButtonLoader-DrEEcdA8.js";import{e as ne}from"./AuthAction-DV--dxq1.js";import{g as se}from"./BarberProfileAction-5DzZXQzF.js";import{g as oe}from"./Date-BdTqWCFt.js";import{C as ie}from"./ClickAwayListener-w_Zaljtg.js";import"./index-DikGMDqK.js";import"./getReactElementRef-C0jiAxVM.js";const ae="_barber_signup_edit_container_10h1y_1",le="_signup_head_10h1y_37",de="_error_message_10h1y_197",ce="_mobile_container_10h1y_203",ue="_dark_10h1y_214",s={barber_signup_edit_container:ae,signup_head:le,error_message:de,mobile_container:ce,dark:ue},Se=()=>{var w;const x=W(),m=X(),t=(w=m==null?void 0:m.state)==null?void 0:w.newUser,[i,A]=n.useState(""),[p,O]=n.useState(""),[d,R]=n.useState(""),[_,K]=n.useState(""),[y,M]=n.useState(""),j=Z(),[U,h]=n.useState(!1),$=()=>{h(r=>!r)},f=r=>{R(r),h(!1)},[G,v]=n.useState(!1),[k,g]=n.useState(""),[S,N]=n.useState(""),[C,E]=n.useState(""),[P,D]=n.useState(""),I=()=>{if(!i)return l.error("Please enter name",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),g("Please enter name");if(i.length===0||i.length>20)return l.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),g("Name must be between 1 to 20 characters");if(!d)return l.error("Please select gender",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),N("Please select gender");if(!p)return l.error("Please select date of birth",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),D("Please select date of birth");if(G)return l.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),E("Invalid Number");const r={email:t==null?void 0:t.email,mobileNumber:Number(_),name:i,gender:d,dateOfBirth:p,salonId:t==null?void 0:t.salonId,AuthType:t==null?void 0:t.AuthType,countryCode:Number(y)};x(ne(r,j))},c=r=>{r.key==="Enter"&&I()},L=()=>{const r={email:t==null?void 0:t.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:t==null?void 0:t.salonId,countryCode:Number(y)};x(se(r,j))},V=b(r=>r.BarberSignupEdit),{loading:F}=V,H=b(r=>r.barberSkipProfile),{loading:T}=H,B=re.PhoneNumberUtil.getInstance(),q=r=>{try{return B.isValidNumber(B.parseAndKeepRawInput(r))}catch{return!1}},[Y,J]=n.useState("gb"),Q=(r,u)=>{E("");const{country:o,inputValue:pe}=u;q(r)?(K(r),M(o==null?void 0:o.dialCode),J(o==null?void 0:o.iso2),v(!1)):v(!0)},a=b(ee)==="On";return n.useEffect(()=>{const r=document.querySelector(".react-international-phone-input-container .react-international-phone-input");r&&(r.style.color=a?"var(--light-color-4)":"var(--light-color-2)")},[a]),e.jsxs("main",{className:`${s.barber_signup_edit_container} ${a&&s.dark}`,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:s.signup_head,children:"Add Your Account Details"}),T?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(z,{})}):e.jsx("button",{onClick:()=>L(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:r=>{g(""),A(r.target.value)},onKeyDown:c,style:{border:k?"0.1rem solid red":"none"}}),e.jsx("p",{className:s.error_message,children:k})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${d?`${d}`:""}`,onClick:()=>{N(""),$()},onKeyDown:c,style:{border:S?"0.1rem solid red":"none"},readOnly:!0}),e.jsx("p",{className:s.error_message,children:S}),U&&e.jsx(ie,{onClickAway:()=>h(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>f("Male"),children:"Male"}),e.jsx("p",{onClick:()=>f("Female"),children:"Female"}),e.jsx("p",{onClick:()=>f("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:p,onChange:r=>{D(""),O(r.target.value)},onKeyDown:c,max:oe(),style:{colorScheme:a?"dark":"light",border:P&&"0.1rem solid red"}}),e.jsx("p",{className:s.error_message,children:P})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{className:`${s.mobile_container} ${a&&s.dark}`,style:{border:C&&"0.1rem solid red"},children:e.jsx("div",{style:{background:"var(--bg-color3)",borderRadius:"1rem"},children:e.jsx(te,{forceDialCode:!0,defaultCountry:Y,value:_,onChange:(r,u)=>Q(r,u),onKeyDown:c})})}),e.jsx("p",{className:s.error_message,children:C})]}),e.jsx("div",{children:F?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(z,{})}):e.jsx("button",{onClick:()=>I(),children:"Update"})})]})})]})};export{Se as default};
