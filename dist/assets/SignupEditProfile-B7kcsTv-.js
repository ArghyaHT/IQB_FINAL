import{u as $,c as Y,r,a as q,b as k,j as e,_ as A}from"./index-AHqq0E29.js";import{d as J}from"./AuthAction-DJPwc__3.js";import{l as Q,U as W}from"./libphonenumber-Nqty8yVb.js";import{B as D}from"./ButtonLoader-BZxjNflc.js";import{g as X}from"./AdminProfileAction-B--auT7m.js";import{g as Z}from"./Date-DzNLgd7P.js";import{C as ee}from"./ClickAwayListener-DAEYeS7-.js";import"./index-B_Pz8DSX.js";import"./getReactElementRef-0KpZG8d3.js";const ne="_admin_signup_edit_container_yvfg3_1",se="_signup_head_yvfg3_37",re="_error_message_yvfg3_197",l={admin_signup_edit_container:ne,signup_head:se,error_message:re},ge=()=>{var S;const p=$(),d=Y(),s=(S=d==null?void 0:d.state)==null?void 0:S.newUser,[i,E]=r.useState(""),[h,I]=r.useState(""),[c,w]=r.useState(""),[g,P]=r.useState(""),[f,B]=r.useState(""),x=q(),[K,u]=r.useState(!1),U=()=>{u(n=>!n)},m=n=>{w(n),u(!1)},[L,b]=r.useState(!1),[j,_]=r.useState(""),[v,y]=r.useState(""),C=()=>{if(i.length===0||i.length>20)return A.error("Name must be between 1 to 20 characters",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Name must be between 1 to 20 characters");if(L)return A.error("Invalid Number",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),y("Invalid Number");const n={email:s==null?void 0:s.email,mobileNumber:Number(g),name:i,gender:c,dateOfBirth:h,salonId:s==null?void 0:s.salonId,AuthType:s==null?void 0:s.AuthType,countryCode:Number(f)};p(J(n,x))},V=()=>{const n={email:s==null?void 0:s.email,mobileNumber:"",name:"",gender:"",dateOfBirth:"",salonId:s==null?void 0:s.salonId,countryCode:Number(f)};p(X(n,x))},o=n=>{n.key==="Enter"&&C()},G=k(n=>n.AdminSignupEdit),{loading:M}=G,O=k(n=>n.adminSkipProfile),{loading:R}=O,N=Q.PhoneNumberUtil.getInstance(),F=n=>{try{return N.isValidNumber(N.parseAndKeepRawInput(n))}catch{return!1}},[z,H]=r.useState("gb"),T=(n,a)=>{y("");const{country:t,inputValue:te}=a;F(n)?(P(n),B(t==null?void 0:t.dialCode),H(t==null?void 0:t.iso2),b(!1)):b(!0)};return e.jsxs("main",{className:l.admin_signup_edit_container,children:[e.jsx("div",{children:e.jsx("div",{children:e.jsx("img",{src:"./signin_un.png",alt:"admin_signup"})})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{className:l.signup_head,children:"Add Your Account Details"}),R?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(D,{})}):e.jsx("button",{onClick:()=>V(),children:"Skip"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:n=>{_(""),E(n.target.value)},onKeyDown:o,style:{border:j?"0.1rem solid red":"none"}}),e.jsx("p",{className:l.error_message,children:j})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Gender"}),e.jsx("input",{type:"text",value:`${c?`${c}`:""}`,onClick:()=>U(),onKeyDown:o}),K&&e.jsx(ee,{onClickAway:()=>u(!1),children:e.jsxs("div",{children:[e.jsx("p",{onClick:()=>m("Male"),children:"Male"}),e.jsx("p",{onClick:()=>m("Female"),children:"Female"}),e.jsx("p",{onClick:()=>m("Other"),children:"Other"})]})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:h,onChange:n=>I(n.target.value),onKeyDown:o,max:Z()})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Mobile Number"}),e.jsx("div",{style:{border:v&&"0.1rem solid red"},children:e.jsx("div",{children:e.jsx(W,{forceDialCode:!0,defaultCountry:z,value:g,onKeyDown:o,onChange:(n,a)=>T(n,a)})})}),e.jsx("p",{className:l.error_message,children:v})]}),e.jsx("div",{children:M?e.jsx("button",{style:{display:"grid",placeItems:"center"},children:e.jsx(D,{})}):e.jsx("button",{onClick:()=>C(),children:"Update"})})]})})]})};export{ge as default};
