import{r as i,a as A,b as P,u as p,d as $,c as q,j as n,E as z,N as C,L as I,H as R,n as d,e as D}from"./index-smej7xwq.js";import{A as L,a as B}from"./AuthAction-DtGNWTA2.js";import{B as G}from"./ButtonLoader-BLdiC7PJ.js";const K="_admin_signin_container_1av0q_1",H="_admin_signin_left_1av0q_8",M="_admin_signin_right_1av0q_24",O="_homeicon_1av0q_71",F="_password_container_1av0q_105",V="_signin_btn_1av0q_160",W="_error_message_1av0q_217",Y="_google_btn_1av0q_224",J="_dark_1av0q_272",e={admin_signin_container:K,admin_signin_left:H,admin_signin_right:M,homeicon:O,password_container:F,signin_btn:V,error_message:W,google_btn:Y,dark:J},Z=()=>{const[o,v]=i.useState(""),[r,j]=i.useState(""),m=A(),a=P(),[_,b]=i.useState(!1),[u,c]=i.useState(""),[h,l]=i.useState(""),k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,f=()=>{if(!o)return d.error("Please enter email",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Please enter email");if(!k.test(o))return d.error("Invalid email format",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Invalid email format");if(!r)return d.error("Please enter password",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Please enter password");if(r.length<8)return d.error("Password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Password length must be 8 charecters");m(L({email:o,password:r},a))},x=s=>{s.key==="Enter"&&f()},y=()=>{a("/adminforgotpassword")},w=p(s=>s.AdminSignin),{loading:S}=w,t=p($)==="On",E=q({onSuccess:async s=>{try{const{access_token:g}=s,N=await D.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${g}`}});m(B(N.data.email,a))}catch(g){console.error("Error fetching user info:",g)}}});return n.jsxs("main",{className:`${e.admin_signin_container} ${t&&e.dark}`,children:[n.jsx("div",{className:e.admin_signin_left,children:n.jsx("img",{src:"./signin_un.png",alt:"admin_Signin"})}),n.jsxs("div",{className:`${e.admin_signin_right} ${t&&e.dark}`,children:[n.jsxs("div",{children:[n.jsx("p",{children:"Sign In to your Admin Account"}),n.jsx("p",{children:"Welcome back Admin! please enter your details"}),n.jsxs("div",{children:[n.jsx("input",{type:"email",placeholder:"Enter Your Email ID",value:o,onChange:s=>{c(""),v(s.target.value)},onKeyDown:x,style:{border:u?"0.1rem solid red":void 0}}),n.jsx("p",{className:e.error_message,children:u})]}),n.jsxs("div",{children:[n.jsxs("div",{className:`${e.password_container} ${t&&e.dark}`,style:{border:h?"0.1rem solid red":void 0},children:[n.jsx("input",{type:_?"text":"password",placeholder:"Password",value:r,onChange:s=>{l(""),j(s.target.value)},onKeyDown:x}),n.jsx("div",{onClick:()=>b(s=>!s),children:_?n.jsx(z,{}):n.jsx(C,{})})]}),n.jsx("p",{className:e.error_message,children:h})]}),n.jsx("div",{children:n.jsx("p",{onClick:y,children:"Forgot Password ?"})}),S?n.jsx("button",{style:{display:"grid",placeItems:"center"},className:e.signin_btn,children:n.jsx(G,{})}):n.jsx("button",{onClick:f,className:e.signin_btn,children:"Signin"}),n.jsxs("div",{children:[n.jsx("div",{}),n.jsx("p",{children:"or"}),n.jsx("div",{})]}),n.jsx("button",{onClick:()=>E(),className:`${e.google_btn} ${t&&e.dark}`,children:n.jsxs("div",{children:[n.jsx("div",{children:n.jsx("img",{src:"/google_logo.png",alt:"logo"})}),n.jsx("p",{children:"Sign in with Google "})]})}),n.jsxs("p",{children:["Don't you have an account ? ",n.jsx(I,{to:"/adminsignup",children:"Sign up"})]})]}),n.jsx("button",{className:e.homeicon,onClick:()=>a("/"),children:n.jsx(R,{})})]})]})};export{Z as default};
