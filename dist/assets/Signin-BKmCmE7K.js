import{c as k,r as n,u as N,a as B,b as L,j as e,E as C,N as R,G as I,L as D,H as W,_ as t}from"./index-AHqq0E29.js";import{B as A,a as G}from"./AuthAction-CfrBAaSF.js";import{B as K}from"./ButtonLoader-BZxjNflc.js";const q="_barber_signin_container_1twvz_1",H="_barber_signin_left_1twvz_8",M="_barber_signin_right_1twvz_24",F="_homeicon_1twvz_71",U="_password_container_1twvz_105",V="_signin_btn_1twvz_160",Y="_error_message_1twvz_217",s={barber_signin_container:q,barber_signin_left:H,barber_signin_right:M,homeicon:F,password_container:U,signin_btn:V,error_message:Y},X=()=>{const v=k(),l=new URLSearchParams(v.search).get("email");console.log(l),n.useEffect(()=>{l&&g(l)},[]);const[i,g]=n.useState(""),[a,p]=n.useState(""),b=N(),o=B(),x=r=>{b(A(r.credential,o))},w=()=>{},[J,j]=n.useState(window.innerWidth);n.useEffect(()=>{const r=()=>{j(window.innerWidth)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);const[m,y]=n.useState(!1),S=()=>{o("/barberforgotpassword")},[_,c]=n.useState(""),[u,d]=n.useState(""),E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,h=()=>{if(!i)return t.error("Please enter email",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Please enter email");if(!E.test(i))return t.error("Invalid email format",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Invalid email format");if(!a)return t.error("Please enter password",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),d("Please enter password");if(a.length<8)return t.error("Password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),d("Password length must be 8 charecters");b(G({email:i,password:a},o))},f=r=>{r.key==="Enter"&&h()},z=L(r=>r.BarberSignin),{loading:P}=z;return e.jsxs("main",{className:s.barber_signin_container,children:[e.jsx("div",{className:s.barber_signin_left,children:e.jsx("img",{src:"./signin_un.png",alt:"barber_signin"})}),e.jsxs("div",{className:s.barber_signin_right,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Sign In to your Barber Account"}),e.jsx("p",{children:"Welcome back Barber! please enter your details"}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Enter Your Email ID",value:i,onChange:r=>{c(""),g(r.target.value)},onKeyDown:f,style:{border:_?"0.1rem solid red":void 0}}),e.jsx("p",{className:s.error_message,children:_})]}),e.jsxs("div",{children:[e.jsxs("div",{className:s.password_container,style:{border:u?"0.1rem solid red":void 0},children:[e.jsx("input",{type:m?"text":"password",placeholder:"Password",value:a,onChange:r=>{d(""),p(r.target.value)},onKeyDown:f}),e.jsx("div",{onClick:()=>y(r=>!r),children:m?e.jsx(C,{}):e.jsx(R,{})})]}),e.jsx("p",{className:s.error_message,children:u})]}),e.jsx("div",{children:e.jsx("p",{onClick:S,children:"Forgot Password ?"})}),P?e.jsx("button",{style:{display:"grid",placeItems:"center"},className:s.signin_btn,children:e.jsx(K,{})}):e.jsx("button",{onClick:h,className:s.signin_btn,children:"Signin"}),e.jsxs("div",{children:[e.jsx("div",{}),e.jsx("p",{children:"or"}),e.jsx("div",{})]}),e.jsx(I,{onSuccess:x,onError:w,size:"large",shape:"circle",logo_alignment:"left",text:"continue_with"}),e.jsxs("p",{children:["Don't you have an account ? ",e.jsx(D,{to:"/barbersignup",children:"Sign up"})]})]}),e.jsx("div",{className:s.homeicon,onClick:()=>o("/"),children:e.jsx(W,{})})]})]})};export{X as default};
