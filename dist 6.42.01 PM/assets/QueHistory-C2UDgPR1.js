import{b as l,d as w,u as q,r as c,j as e,q as f,t as C,aA as N,C as k}from"./index-u-AATrzO.js";import{S}from"./index-JU4tkeik.js";import{g as A}from"./QueueAction-RoshOZmv.js";const L="_quehistory_wrapper_1imr3_1",$="_customer_search_1imr3_26",Q="_quehistory_wrapper_content_1imr3_62",I="_quehistory_wrapper_content_body_1imr3_72",E="_quehistory_wrapper_content_body_error_1imr3_155",s={quehistory_wrapper:L,customer_search:$,quehistory_wrapper_content:Q,quehistory_wrapper_content_body:I,quehistory_wrapper_content_body_error:E},M=()=>{const i=l(w)==="On",h=l(r=>r.AdminLoggedInMiddleware.adminSalonId),_=q(),d=c.useRef(new AbortController);c.useEffect(()=>{const r=new AbortController;return d.current=r,_(A(h,r.signal)),()=>{d.current&&d.current.abort()}},[h,_]);const u=l(r=>r.getAdminQueueListHistory),{loading:m,resolve:x,queueListHistory:t}=u,[o,a]=c.useState([]);c.useEffect(()=>{t&&a(t)},[t]);const[j,y]=c.useState(""),g=r=>{y(r);const n=r.toLowerCase().trim();if(!n)a(t);else{const v=t==null?void 0:t.filter(p=>p.barberName.toLowerCase().includes(n)||p.customerName.toLowerCase().includes(n));a(v)}};return e.jsxs("div",{className:`${s.quehistory_wrapper}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Queue History"}),e.jsxs("div",{className:`${s.customer_search} ${i&&s.dark}`,children:[e.jsx("input",{type:"text",placeholder:"Search Queue",value:j,onChange:r=>g(r.target.value)}),e.jsx("div",{children:e.jsx(f,{})})]})]}),e.jsx("div",{className:`${s.quehistory_wrapper_content}`,children:m?e.jsx("div",{className:s.quehistory_wrapper_content_body,children:e.jsx(S,{count:6,height:"6rem",style:{marginBottom:"1rem"},baseColor:i?"var(--darkmode-loader-bg-color)":"var(--lightmode-loader-bg-color)",highlightColor:i?"var(--darkmode-loader-highlight-color)":"var(--lightmode-loader-highlight-color)"})}):x&&(o==null?void 0:o.length)>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${s.quehistory_wrapper_content_body} ${i&&s.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"#"}),e.jsx("p",{children:"Name"}),e.jsx("p",{children:"Barber Name"}),e.jsx("p",{children:"Time Joined Q"}),e.jsx("div",{children:e.jsx("p",{children:"Qg Code"})}),e.jsx("div",{children:e.jsx("p",{children:"EWT"})}),e.jsx("div",{children:e.jsx("p",{children:"Type"})}),e.jsx("div",{children:e.jsx("p",{children:"isAdmin"})}),e.jsx("div",{children:e.jsx("p",{children:"Status"})})]}),o==null?void 0:o.map((r,n)=>e.jsxs("div",{className:`${s.barber_queue_history_content_body_item} ${i&&s.dark}`,style:{borderBottom:o.length-1===n&&"none"},children:[e.jsx("p",{children:r==null?void 0:r.qPosition}),e.jsx("p",{children:r==null?void 0:r.customerName}),e.jsx("p",{children:r==null?void 0:r.barberName}),e.jsx("p",{children:r==null?void 0:r.timeJoinedQ}),e.jsx("div",{children:e.jsx("p",{children:r==null?void 0:r.qgCode})}),e.jsx("div",{children:e.jsx("p",{children:r==null?void 0:r.serviceEWT})}),e.jsx("div",{children:e.jsx("p",{children:(r==null?void 0:r.serviceType)==="Regular"?"-":e.jsx(C,{})})}),e.jsx("div",{children:r!=null&&r.isAdmin?e.jsx("p",{style:{color:"green"},children:e.jsx(N,{})}):e.jsx("p",{style:{fontSize:"2rem",fontWeight:"700",color:"red"},children:e.jsx(k,{})})}),e.jsx("div",{children:e.jsx("p",{style:{color:(r==null?void 0:r.status)=="served"?"green":"red"},children:r==null?void 0:r.status})})]},r==null?void 0:r._id))]})}):e.jsx("div",{className:`${s.quehistory_wrapper_content_body_error} ${i&&s.dark}`,children:e.jsx("p",{children:"No Queue history available"})})})]})};export{M as default};
