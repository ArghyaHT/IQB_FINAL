import{r as a,a as N,b as B,u as x,d as P,c as $,j as e,E as z,N as C,L as I,H as L,_ as i,e as R}from"./index-smej7xwq.js";import{b as A,c as D}from"./AuthAction-CntHCeqo.js";import{B as G}from"./ButtonLoader-BLdiC7PJ.js";const K="_barber_signup_container_1a2it_1",H="_barber_signup_left_1a2it_8",M="_barber_signup_right_1a2it_24",O="_homeicon_1a2it_71",U="_password_container_1a2it_105",V="_signup_btn_1a2it_147",W="_error_message_1a2it_205",Y="_google_btn_1a2it_212",q="_dark_1a2it_260",r={barber_signup_container:K,barber_signup_left:H,barber_signup_right:M,homeicon:O,password_container:U,signup_btn:V,error_message:W,google_btn:Y,dark:q},X=()=>{const[n,f]=a.useState(""),[o,j]=a.useState(""),u=N(),c=B(),[_,v]=a.useState(!1),[b,l]=a.useState(""),[p,d]=a.useState(""),k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,m=()=>{if(!n)return i.error("Please enter email",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Please enter email");if(!k.test(n))return i.error("Invalid email format",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Invalid email format");if(!o)return i.error("Please enter password",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),d("Please enter password");if(o.length<8)return i.error("Password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),d("Password length must be 8 charecters");u(A({email:n,password:o},c))},h=s=>{s.key==="Enter"&&m()},y=x(s=>s.BarberSignup),{loading:w}=y,t=x(P)==="On",S=$({onSuccess:async s=>{try{const{access_token:g}=s,E=await R.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${g}`}});u(D(E.data.email,c))}catch(g){console.error("Error fetching user info:",g)}}});return e.jsxs("main",{className:`${r.barber_signup_container} ${t&&r.dark}`,children:[e.jsx("div",{className:r.barber_signup_left,children:e.jsx("img",{src:"./signup_un.png",alt:"barber_signup"})}),e.jsxs("div",{className:`${r.barber_signup_right} ${t&&r.dark}`,children:[e.jsxs("div",{children:[e.jsx("p",{children:"Sign Up to your Barber Account"}),e.jsx("p",{children:"Welcome back Barber! please enter your details"}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Enter Your Email ID",value:n,onChange:s=>{l(""),f(s.target.value)},onKeyDown:h,style:{border:b?"0.1rem solid red":void 0}}),e.jsx("p",{className:r.error_message,children:b})]}),e.jsxs("div",{children:[e.jsxs("div",{className:`${r.password_container} ${t&&r.dark}`,style:{border:p?"0.1rem solid red":void 0},children:[e.jsx("input",{type:_?"text":"password",placeholder:"Password",value:o,onChange:s=>{d(""),j(s.target.value)},onKeyDown:h}),e.jsx("div",{onClick:()=>v(s=>!s),children:_?e.jsx(z,{}):e.jsx(C,{})})]}),e.jsx("p",{className:r.error_message,children:p})]}),w?e.jsx("button",{style:{display:"grid",placeItems:"center"},className:r.signup_btn,children:e.jsx(G,{})}):e.jsx("button",{className:r.signup_btn,onClick:m,children:"Signup"}),e.jsx("p",{}),e.jsxs("div",{children:[e.jsx("div",{}),e.jsx("p",{children:"or"}),e.jsx("div",{})]}),e.jsx("button",{onClick:()=>S(),className:`${r.google_btn} ${t&&r.dark}`,children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:"/google_logo.png",alt:"logo"})}),e.jsx("p",{children:"Sign up with Google"})]})}),e.jsxs("p",{children:["Already a member ? ",e.jsx(I,{to:"/barbersignin",children:"Log In"})]})]}),e.jsx("div",{className:r.homeicon,onClick:()=>c("/"),children:e.jsx(L,{})})]})]})};export{X as default};
