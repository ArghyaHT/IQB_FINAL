import{I as z,b as R,a as $,r as a,u as b,d as K,j as e,E as j,N as x,L,_ as t}from"./index-smej7xwq.js";import{a as M}from"./BarberPasswordAction-DL5Frnlp.js";import{B}from"./ButtonLoader-BLdiC7PJ.js";const D="_change_password_container_y3iju_1",I="_change_password_container_left_y3iju_8",O="_change_password_container_right_y3iju_23",V="_change_btn_y3iju_48",q="_password_container_y3iju_85",A="_error_message_y3iju_118",H="_dark_y3iju_127",s={change_password_container:D,change_password_container_left:I,change_password_container_right:O,change_btn:V,password_container:q,error_message:A,dark:H},Q=()=>{const d=z(),y=R(),v=$(),[o,P]=a.useState(""),[i,k]=a.useState(""),[h,c]=a.useState(""),[u,l]=a.useState(""),[g,_]=a.useState(""),f=()=>{if(!o)return t.error("Please enter password",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Please enter password");if(o.length<8)return t.error("Password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),c("Password length must be 8 charecters");if(!i)return t.error("Please enter confirm password",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Please enter confirm password");if(i.length<8)return t.error("Confirm password length must be 8 charecters",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),l("Confirm password length must be 8 charecters");if(o!==i)return t.error("Password and confirm password do not match",{duration:3e3,style:{fontSize:"var(--font-size-2)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}),_("Password and confirm password do not match");v(M(o,d==null?void 0:d.token,y))},m=r=>{r.key==="Enter"&&f()},C=b(r=>r.barberResetPassword),{loading:S}=C,[w,N]=a.useState(!1),[p,E]=a.useState(!1),n=b(K)==="On";return e.jsxs("div",{className:`${s.change_password_container} ${n&&s.dark}`,children:[e.jsx("div",{className:`${s.change_password_container_left} ${n&&s.dark}`,children:e.jsx("img",{src:"/signin_un.png",alt:"reset_image"})}),e.jsx("div",{className:`${s.change_password_container_right} ${n&&s.dark}`,children:e.jsxs("div",{children:[e.jsx("p",{children:"Change Password"}),e.jsx("p",{children:"Use at least 8 characters with a mix of letters, numbers, and symbols."}),e.jsx("p",{children:"Keep it unique and avoid reusing passwords."}),e.jsxs("div",{className:`${s.password_container} ${n&&s.dark}`,style:{border:h?"0.1rem solid red":void 0},children:[e.jsx("input",{type:w?"text":"password",placeholder:"Password",value:o,onChange:r=>{_(""),c(""),P(r.target.value)},onKeyDown:m}),e.jsx("div",{onClick:()=>N(r=>!r),children:w?e.jsx(j,{}):e.jsx(x,{})}),e.jsx("p",{className:s.error_message,children:h})]}),e.jsxs("div",{className:`${s.password_container} ${n&&s.dark}`,style:{border:u||g?"0.1rem solid red":void 0},children:[e.jsx("input",{type:p?"text":"password",placeholder:"Confirm Password",value:i,onChange:r=>{_(""),l(""),k(r.target.value)},onKeyDown:m}),e.jsx("div",{onClick:()=>E(r=>!r),children:p?e.jsx(j,{}):e.jsx(x,{})}),e.jsx("p",{className:s.error_message,children:u||g})]}),S?e.jsx("button",{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:s.change_btn,children:e.jsx(B,{})}):e.jsx("button",{onClick:f,className:s.change_btn,children:"Change Password"}),e.jsx(L,{to:"/barbersignin",children:"Back"})]})})]})};export{Q as default};
