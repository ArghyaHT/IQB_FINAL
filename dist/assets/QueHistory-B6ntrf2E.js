import{u as n,d as y,a as x,r as l,j as r,A as j}from"./index-BkwjXYND.js";import{S as g}from"./index-CTC0mqjA.js";import{d as m}from"./BarberQueueAction-Rkl_xO-W.js";const q="_quehistory_wrapper_ulqy3_1",v="_quehistory_wrapper_content_ulqy3_26",w="_quehistory_wrapper_content_body_ulqy3_36",k="_quehistory_wrapper_content_body_error_ulqy3_94",N="_dark_ulqy3_109",o={quehistory_wrapper:q,quehistory_wrapper_content:v,quehistory_wrapper_content_body:w,quehistory_wrapper_content_body_error:k,dark:N},C=()=>{const t=n(y)==="On",d=n(e=>e.BarberLoggedInMiddleware.barberSalonId),a=n(e=>e.BarberLoggedInMiddleware.barberId),c=x(),i=l.useRef(new AbortController);l.useEffect(()=>{const e=new AbortController;return i.current=e,c(m(d,a,e.signal)),()=>{i.current&&i.current.abort()}},[d,a,c]);const h=n(e=>e.getBarberQueueListHistory),{loading:_,resolve:p,queueListHistory:s}=h;return r.jsxs("div",{className:`${o.quehistory_wrapper} ${t&&o.dark}`,children:[r.jsx("div",{children:r.jsx("p",{children:"Queue History"})}),r.jsx("div",{className:`${o.quehistory_wrapper_content}`,children:_?r.jsx("div",{className:o.quehistory_wrapper_content_body,children:r.jsx(g,{count:6,height:"6rem",style:{marginBottom:"1rem"},baseColor:t?"var(--dark-loader-bg-color)":"var(--light-loader-bg-color)",highlightColor:t?"var(--dark-loader-highlight-color)":"var(--light-loader-highlight-color)"})}):p&&(s==null?void 0:s.length)>0?r.jsx(r.Fragment,{children:r.jsxs("div",{className:`${o.quehistory_wrapper_content_body} ${t&&o.dark}`,children:[r.jsxs("div",{children:[r.jsx("p",{children:"#"}),r.jsx("p",{children:"Name"}),r.jsx("p",{children:"Barber Name"}),r.jsx("p",{children:"Time Joined Q"}),r.jsx("div",{children:r.jsx("p",{children:"Qg Code"})}),r.jsx("div",{children:r.jsx("p",{children:"EWT"})}),r.jsx("div",{children:r.jsx("p",{children:"Type"})}),r.jsx("div",{children:r.jsx("p",{children:"Status"})})]}),s==null?void 0:s.map((e,u)=>r.jsxs("div",{className:`${o.barber_queue_history_content_body_item} ${t&&o.dark}`,style:{borderBottom:s.length-1===u&&"none"},children:[r.jsx("p",{children:e==null?void 0:e.qPosition}),r.jsx("p",{children:e==null?void 0:e.customerName}),r.jsx("p",{children:e==null?void 0:e.barberName}),r.jsx("p",{children:e==null?void 0:e.timeJoinedQ}),r.jsx("div",{children:r.jsx("p",{children:e==null?void 0:e.qgCode})}),r.jsx("div",{children:r.jsx("p",{children:e==null?void 0:e.serviceEWT})}),r.jsx("div",{children:r.jsx("p",{children:(e==null?void 0:e.serviceType)==="Regular"?"-":r.jsx(j,{})})}),r.jsx("div",{children:r.jsx("p",{style:{color:(e==null?void 0:e.status)=="served"?"green":"red"},children:e==null?void 0:e.status})})]},e==null?void 0:e._id))]})}):r.jsx("div",{className:`${o.quehistory_wrapper_content_body_error} ${t&&o.dark}`,children:r.jsx("p",{children:"No Queue history available"})})})]})};export{C as default};
