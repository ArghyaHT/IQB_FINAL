import{u as ne,b as l,r as a,d as oe,j as e,aF as se,a5 as ae,o as ie,ab as te}from"./index-DC23I7Q_.js";import{S as u}from"./index-B0iQmoiR.js";import{j as T,R as N,B as k,a as C}from"./BarChart-D9fzNJdu.js";import{B as ce}from"./ButtonLoader-B3ZoPDtn.js";import{c as le,b as de,a as _e}from"./DashboardAction-CeuS9sy4.js";import{g as he}from"./BarberQueueAction-CXhNQFSu.js";import{h as be}from"./SalonAction-BTiCwWi7.js";import"./index-CTLnQDG_.js";import"./clsx-B-dksMZM.js";import"./index-8JwjhRSi.js";const ve="_barber_connect_salon_container_1h6ws_1",me="_barber_connect_salon_list_container_1h6ws_21",je="_barber_connect_salon_list_1h6ws_21",xe="_barber_connect_salon_list_header_1h6ws_49",ue="_barber_connect_salon_list_body_1h6ws_89",pe="_barber_connect_salon_list_error_1h6ws_137",ge="_barber_approve_container_1h6ws_147",we="_add_connect_btn_1h6ws_193",ye="_check_connect_btn_1h6ws_219",Se="_barber_list_services_list_1h6ws_248",fe="_service_item_1h6ws_268",Ne="_service_add_icon_1h6ws_284",ke="_service_delete_icon_1h6ws_315",Ce="_service_item_top_1h6ws_346",Ie="_service_item_bottom_1h6ws_401",Re="_connect_btn_1h6ws_469",Ae="_dashboard_body_1h6ws_498",Me="_inner_container_1h6ws_504",Be="_dashboard_container_one_1h6ws_512",qe="_saloninfo_container_1h6ws_516",Te="_salonadv_container_loader_1h6ws_557",Le="_salonadv_container_error_1h6ws_569",De="_salonadv_container_1h6ws_557",Ee="_dashboard_advertise_loader_1h6ws_609",We="_carousel_item_container_1h6ws_620",$e="_barber_report_container_1h6ws_637",Fe="_report_container_1h6ws_647",Oe="_r_chart_1h6ws_659",He="_dashboard_container_two_1h6ws_713",Qe="_queuelists_container_1h6ws_717",Ke="_queue_header_1h6ws_729",Ye="_queue_body_loading_1h6ws_755",Ge="_queue_body_error_1h6ws_760",Pe="_queue_body_1h6ws_755",Ve="_queue_item_1h6ws_778",ze="_barberitem_header_1h6ws_848",Je="_barberitem_1h6ws_848",n={barber_connect_salon_container:ve,barber_connect_salon_list_container:me,barber_connect_salon_list:je,barber_connect_salon_list_header:xe,barber_connect_salon_list_body:ue,barber_connect_salon_list_error:pe,barber_approve_container:ge,add_connect_btn:we,check_connect_btn:ye,barber_list_services_list:Se,service_item:fe,service_add_icon:Ne,service_delete_icon:ke,service_item_top:Ce,service_item_bottom:Ie,connect_btn:Re,dashboard_body:Ae,inner_container:Me,dashboard_container_one:Be,saloninfo_container:qe,salonadv_container_loader:Te,salonadv_container_error:Le,salonadv_container:De,dashboard_advertise_loader:Ee,carousel_item_container:We,barber_report_container:$e,report_container:Fe,r_chart:Oe,dashboard_container_two:He,queuelists_container:Qe,queue_header:Ke,queue_body_loading:Ye,queue_body_error:Ge,queue_body:Pe,queue_item:Ve,barberitem_header:ze,barberitem:Je},dr=()=>{var A,M,B,q;const h=ne(),d=l(r=>{var o;return(o=r.BarberLoggedInMiddleware)==null?void 0:o.barberSalonId}),L=l(r=>{var o;return(o=r.BarberLoggedInMiddleware)==null?void 0:o.barberEmail}),D=l(r=>{var o;return(o=r.BarberLoggedInMiddleware)==null?void 0:o.barberName}),E=l(r=>{var o;return(o=r.BarberLoggedInMiddleware)==null?void 0:o.barberId}),s=l(r=>{var o;return(o=r.BarberLoggedInMiddleware)==null?void 0:o.entiredata});a.useEffect(()=>{var r;((r=s==null?void 0:s.user[0])==null?void 0:r.isApproved)==!1&&h(le())},[s]);const I=(r,o)=>(r==null?void 0:r.length)<=o?r:(r==null?void 0:r.slice(0,o))+"...",i=l(oe)==="On",W=l(r=>r.connectSalonList),{loading:m,resolve:j,response:t}=W,[_,$]=a.useState(""),[p,F]=a.useState({});a.useEffect(()=>{if(_){const r=t==null?void 0:t.find(o=>o.salonId===_);F(r)}},[_]);const[g,O]=a.useState([]);a.useEffect(()=>{var r;if(_){const o=(r=t.find(c=>c.salonId===_))==null?void 0:r.services;O(o),w([])}},[_]);const[x,w]=a.useState([]),H=r=>{if(!x.find(c=>c._id===r._id)){const c={...r,barberServiceEWT:Number(r.serviceEWT)};w([...x,c])}},Q=r=>{w(o=>o.filter(c=>c._id!==r._id))},K=()=>{h(_e({barberServices:x,email:L,salonId:_}))},Y=l(r=>r.barberConnectSalon),{loading:G,resolve:Xe,message:Ze}=Y,y=a.useRef(new AbortController);a.useEffect(()=>{var r;if((r=s==null?void 0:s.user[0])!=null&&r.isApproved){const o=new AbortController;return y.current=o,h(he(d,E,o.signal)),()=>{y.current&&y.current.abort()}}},[d,h]);const P=l(r=>r.getBarberQueueList),{loading:V,resolve:z,queueList:v}=P;a.useState(new Date);const S=a.useRef(new AbortController);a.useEffect(()=>{var r;if((r=s==null?void 0:s.user[0])!=null&&r.isApproved&&d!=0){const o=new AbortController;return S.current=o,h(de(d,o.signal)),()=>{S.current&&S.current.abort()}}},[d,h,s]);const J=l(r=>r.barberDashboardSalonInfo),{loading:U,resolve:X,response:R}=J;a.useEffect(()=>{var r;(r=s==null?void 0:s.user[0])!=null&&r.isApproved&&d!=0&&h(be(d))},[d,s]);const Z=l(r=>r.getAdminSalonImages),{loading:ee,resolve:re,response:b}=Z;a.useState(!1);const f=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];return l(r=>r.adminGetDefaultSalon),(A=s==null?void 0:s.user[0])!=null&&A.isApproved?e.jsx(e.Fragment,{children:e.jsx("main",{className:n.dashboard,children:e.jsx("main",{className:n.dashboard_body,children:e.jsxs("div",{className:n.inner_container,children:[e.jsxs("div",{className:n.dashboard_container_one,children:[e.jsxs("div",{className:n.saloninfo_container,children:[e.jsx("div",{children:e.jsxs("h2",{children:["Welcome Back, ",I(D,11)]})}),e.jsx("div",{children:U?e.jsx("div",{style:{width:"100%",height:"100%",paddingTop:"2rem",paddingInline:"1rem"},children:e.jsx(u,{count:1,height:"4rem",style:{borderRadius:"0.3rem"},baseColor:i?"var(--darkmode-loader-bg-color)":"var(--lightmode-loader-bg-color)",highlightColor:i?"var(--darkmode-loader-highlight-color)":"var(--lightmode-loader-highlight-color)"})}):X&&R?e.jsx("i",{children:I(R,200)}):e.jsx("i",{children:"You currently have no salon information"})})]}),ee?e.jsx("div",{className:n.salonadv_container_loader,children:e.jsx(u,{count:1,className:n.dashboard_advertise_loader,style:{borderRadius:"0.6vw"},baseColor:i?"var(--darkmode-loader-bg-color)":"var(--lightmode-loader-bg-color)",highlightColor:i?"var(--darkmode-loader-highlight-color)":"var(--lightmode-loader-highlight-color)"})}):re&&(b==null?void 0:b.length)>0?e.jsx("div",{className:n.salonadv_container,children:e.jsx(T.Carousel,{showThumbs:!1,infiniteLoop:!0,autoPlay:!0,interval:5e3,showStatus:!1,showArrows:!1,stopOnHover:!1,swipeable:!1,children:(M=b==null?void 0:b.slice(0,5))==null?void 0:M.map(r=>e.jsx("div",{className:n.carousel_item_container,children:e.jsx("img",{src:r.url,alt:"image_item"})},r._id))})}):e.jsx("div",{className:n.salonadv_container_error,children:e.jsx("img",{src:"./no-image.jpg",alt:"no_image"})}),e.jsx("div",{className:n.barber_report_container,children:e.jsx("div",{className:n.report_container,children:e.jsxs(T.Carousel,{showThumbs:!1,infiniteLoop:!0,autoPlay:!0,interval:5e3,showStatus:!1,showArrows:!1,stopOnHover:!0,swipeable:!0,renderIndicator:!1,children:[e.jsxs("div",{className:n.r_chart,children:[e.jsx("p",{children:"Report-Type One"}),e.jsx("div",{children:e.jsx(N,{width:"100%",height:"90%",style:{},children:e.jsx(k,{width:150,height:40,data:f,children:e.jsx(C,{dataKey:"uv",fill:"rgba(255, 0, 0, 0.393)",stroke:"#000000",strokeWidth:1})})})}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Monthly Report"})]}),e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Weekly Report"})]}),e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Daily Report"})]})]})]}),e.jsxs("div",{className:n.r_chart,children:[e.jsx("p",{children:"Report-Type Two"}),e.jsx("div",{children:e.jsx(N,{width:"100%",height:"90%",style:{},children:e.jsx(k,{width:150,height:40,data:f,children:e.jsx(C,{dataKey:"uv",fill:"rgba(255, 149, 0, 0.419)",stroke:"#000000",strokeWidth:1})})})}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Monthly Report"})]}),e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Weekly Report"})]}),e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Daily Report"})]})]})]}),e.jsxs("div",{className:n.r_chart,children:[e.jsx("p",{children:"Report-Type Three"}),e.jsx("div",{children:e.jsx(N,{width:"100%",height:"90%",style:{},children:e.jsx(k,{width:150,height:40,data:f,children:e.jsx(C,{dataKey:"uv",fill:"rgba(0, 0, 255, 0.438)",stroke:"#000000",strokeWidth:1})})})}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Monthly Report"})]}),e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Weekly Report"})]}),e.jsxs("div",{children:[e.jsx("div",{onClick:()=>alert("Monthly Report")}),e.jsx("p",{children:"Daily Report"})]})]})]})]})})})]}),e.jsx("div",{className:n.dashboard_container_two,children:e.jsxs("div",{className:n.queuelists_container,children:[e.jsxs("div",{className:n.queue_header,children:[e.jsx("div",{children:e.jsx("p",{children:"#"})}),e.jsx("div",{children:e.jsx("p",{children:"Name"})}),e.jsx("div",{children:e.jsx("p",{children:"Barber"})}),e.jsx("div",{children:e.jsx("p",{children:"EWT"})})]}),V?e.jsx("div",{className:n.queue_body_loading,children:e.jsx(u,{count:7,height:"6rem",style:{marginBottom:"1rem"},baseColor:i?"var(--darkmode-loader-bg-color)":"var(--lightmode-loader-bg-color)",highlightColor:i?"var(--darkmode-loader-highlight-color)":"var(--lightmode-loader-highlight-color)"})}):z&&(v==null?void 0:v.length)>0?e.jsx("div",{className:n.queue_body,children:v.map((r,o)=>e.jsxs("div",{className:n.queue_item,style:{borderBottom:o===v.length-1?"none":"1px solid rgba(0, 0, 0, 0.2)"},children:[e.jsx("div",{children:e.jsx("p",{children:r.qPosition})}),e.jsx("div",{children:e.jsx("p",{children:r.name.length>6?`${r.name.slice(0,6).concat("...")}`:r.name})}),e.jsx("div",{children:e.jsx("p",{children:r.barberName.length>6?`${r.barberName.slice(0,6).concat("...")}`:r.barberName})}),e.jsx("div",{children:e.jsxs("p",{children:[r.customerEWT," mins"]})})]},r._id))}):e.jsx("div",{className:n.queue_body_error,children:e.jsx("p",{children:"No queuelist available"})})]})})]})})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${n.barber_connect_salon_container} ${i&&n.dark}`,children:[e.jsx("p",{children:"Connect To Your Salon"}),(B=s==null?void 0:s.user[0])!=null&&B.approvePendingMessage?e.jsx("div",{className:n.barber_approve_container,children:e.jsxs("div",{children:[e.jsx("p",{style:{color:i?"var(--primary-text-light-color1)":"var(--primary-text-light-color2)"},children:(q=s==null?void 0:s.user[0])==null?void 0:q.approvePendingMessage}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Reload"})]})}):e.jsxs("div",{className:`${n.barber_connect_salon_list_container} ${i&&n.dark}`,children:[e.jsxs("div",{className:`${n.barber_connect_salon_list} ${i&&n.dark}`,children:[e.jsx("p",{children:"Choose Your Salon"}),e.jsxs("div",{children:[e.jsxs("div",{className:n.barber_connect_salon_list_header,children:[e.jsx("p",{children:"Salon Logo"}),e.jsx("p",{children:"Salon Name"}),e.jsx("p",{children:"Select"})]}),m&&!j?e.jsx(e.Fragment,{children:e.jsx(u,{count:4,height:"5rem",style:{marginBottom:"1rem"},baseColor:i?"var(--darkmode-loader-bg-color)":"var(--lightmode-loader-bg-color)",highlightColor:i?"var(--darkmode-loader-highlight-color)":"var(--lightmode-loader-highlight-color)"})}):!m&&j&&(t==null?void 0:t.length)>0?t==null?void 0:t.map(r=>{var o,c;return e.jsxs("div",{className:n.barber_connect_salon_list_body,children:[e.jsx("div",{children:e.jsx("img",{src:(c=(o=r==null?void 0:r.salonLogo)==null?void 0:o[0])==null?void 0:c.url,alt:"salon_logo"})}),e.jsx("p",{children:r.salonName}),e.jsx("div",{children:_==r.salonId?e.jsx("button",{className:n.check_connect_btn,children:e.jsx(se,{})}):e.jsx("button",{className:n.add_connect_btn,onClick:()=>$(r.salonId),children:"+"})})]},r._id)}):!m&&j&&(t==null?void 0:t.length)==0?e.jsx("div",{className:n.barber_connect_salon_list_error,children:e.jsx("p",{children:"No Salons Available"})}):!m&&j&&e.jsx("div",{className:n.barber_connect_salon_list_error,children:e.jsx("p",{children:"No Salons Available"})})]})]}),e.jsxs("div",{className:`${n.barber_list_services_list} ${i&&n.dark}`,children:[e.jsx("p",{children:"List of Services"}),e.jsx("div",{children:g==null?void 0:g.map(r=>{var o;return e.jsxs("div",{className:`${n.service_item}`,children:[e.jsxs("div",{className:`${n.service_item_top}`,children:[e.jsx("div",{children:e.jsx("img",{src:(o=r==null?void 0:r.serviceIcon)==null?void 0:o.url,alt:"service icon"})}),e.jsxs("div",{children:[e.jsx("p",{children:r==null?void 0:r.serviceName}),e.jsx("p",{children:r!=null&&r.vipService?"VIP":"Regular"}),e.jsx("p",{children:r==null?void 0:r.serviceDesc})]})]}),e.jsxs("div",{className:`${n.service_item_bottom}`,children:[e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("p",{children:"Service Price"}),e.jsxs("p",{children:[p==null?void 0:p.currency,r==null?void 0:r.servicePrice]})]})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("p",{children:"Est Wait Time"}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(ae,{})}),e.jsx("p",{children:r==null?void 0:r.serviceEWT}),e.jsx("p",{children:"mins"})]})]})})]}),x.some(c=>c._id===(r==null?void 0:r._id))?e.jsx("button",{className:`${n.service_delete_icon}`,onClick:()=>Q(r),children:e.jsx(ie,{})}):e.jsx("button",{className:`${n.service_add_icon}`,onClick:()=>H(r),children:e.jsx(te,{})})]},r._id)})})]}),e.jsx("div",{children:G?e.jsx("button",{style:{display:"grid",placeItems:"center"},className:n.connect_btn,children:e.jsx(ce,{})}):e.jsx("button",{onClick:K,className:n.connect_btn,children:"Connect Salon"})})]})]})})};export{dr as default};
