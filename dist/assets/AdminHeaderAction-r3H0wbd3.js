import{bs as p,p as A,bt as _,bu as f,_ as r,bv as c,bw as u,bx as y}from"./index-BDulmyhd.js";const b=l=>async n=>{var d,e,t,s;try{n({type:c});const{data:o}=await A.post("/api/admin/changeDefaultSalonIdofAdmin",l);n({type:u,payload:o}),localStorage.setItem("barberdata",JSON.stringify({})),localStorage.setItem("salondata",JSON.stringify({})),window.location.reload()}catch(o){if(((d=o==null?void 0:o.response)==null?void 0:d.status)===500){n({type:y,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}n({type:y,payload:(e=o==null?void 0:o.response)==null?void 0:e.data}),r.error((s=(t=o==null?void 0:o.response)==null?void 0:t.data)==null?void 0:s.message,{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}})}},N=(l,n,d)=>async e=>{var t,s,o,i,S,m;try{e({type:p});const{data:a}=await A.post("/api/admin/getDefaultSalonByAdmin",{adminEmail:l},{signal:n});e({type:_,payload:a}),e({type:"ADMIN_SET_SALON",payload:{currentActiveSalon:(t=a==null?void 0:a.response)==null?void 0:t.salonName,chooseSalonId:(s=a==null?void 0:a.response)==null?void 0:s.salonId}})}catch(a){if(((o=a==null?void 0:a.response)==null?void 0:o.status)===500){e({type:f,payload:"Something went wrong !"}),r.error("Something went wrong !",{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}});return}a.name!=="CanceledError"&&(e({type:f,payload:(i=a==null?void 0:a.response)==null?void 0:i.data}),r.error((m=(S=a==null?void 0:a.response)==null?void 0:S.data)==null?void 0:m.message,{duration:3e3,style:{fontSize:"var(--list-modal-header-normal-font)",borderRadius:"0.3rem",background:"#333",color:"#fff"}}))}};export{N as a,b};
