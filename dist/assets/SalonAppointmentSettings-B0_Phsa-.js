import{c as V,b as g,r as n,u as W,a as X,d as Y,j as t}from"./index-C3TY6eP5.js";import{a as ee}from"./SalonAction-BPumwhyF.js";import{B as te}from"./ButtonLoader-CnN44FQg.js";const re=()=>{var k,I,R;const i=V(),a=i==null?void 0:i.state;console.log(a);const L=g(e=>e.AdminLoggedInMiddleware.adminSalonId),[S,C]=n.useState([]),j=e=>(e<10?"0":"")+e,w=()=>{const e=[];for(let s=0;s<24;s++)for(let x=0;x<60;x+=30){const D=j(s)+":"+j(x);e.push({value:D,label:D})}C(e)};n.useEffect(()=>{w()},[]);const[r,O]=n.useState((k=a==null?void 0:a.appointmentSettings)==null?void 0:k.appointmentStartTime),[$,d]=n.useState(!1),H=()=>{d(e=>!e)},M=e=>{O(e),d(!1)},c=n.useRef(),l=n.useRef();n.useEffect(()=>{const e=s=>{c.current&&l.current&&!c.current.contains(s.target)&&!l.current.contains(s.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const[o,y]=n.useState((I=a==null?void 0:a.appointmentSettings)==null?void 0:I.appointmentEndTime),[A,m]=n.useState(!1),U=()=>{m(e=>!e)},_=e=>{y(e),m(!1)},u=n.useRef(),p=n.useRef();n.useEffect(()=>{const e=s=>{u.current&&p.current&&!u.current.contains(s.target)&&!p.current.contains(s.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const[f,b]=n.useState((R=a==null?void 0:a.appointmentSettings)==null?void 0:R.intervalInMinutes),[N,v]=n.useState(!1),B=()=>{v(e=>!e)},Z=e=>{b(e),v(!1)},T=n.useRef(),h=n.useRef();n.useEffect(()=>{const e=s=>{T.current&&h.current&&!T.current.contains(s.target)&&!h.current.contains(s.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const[q,z]=n.useState([]),F=()=>{const e=[];for(let s=1;s<=60;s++)e.push(s);z(e)};n.useEffect(()=>{F()},[]);const G=W(),J=X(),K=()=>{const e={salonId:L,appointmentSettings:{startTime:r,endTime:o,intervalInMinutes:f}};console.log(e),G(ee(e,J))},P=g(e=>e.adminUpdateSalonSettings),{loading:Q}=P,E=g(Y)==="On";return t.jsxs("div",{className:`salon_appointment_wrapper ${E&&"dark"}`,children:[t.jsx("p",{children:"Salon Appointment Settings"}),t.jsxs("div",{className:`salon_appointment_content ${E&&"dark"}`,children:[t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx("p",{children:"Start Time"}),t.jsx("input",{type:"text",value:`${r?`${r} hr`:""}`,onClick:()=>H(),ref:c}),$&&t.jsx("div",{ref:l,children:S.map(e=>t.jsxs("p",{value:e,onClick:()=>M(e==null?void 0:e.value),children:[e==null?void 0:e.value," hr"]},e))})]}),t.jsxs("div",{children:[t.jsx("p",{children:"End Time"}),t.jsx("input",{type:"text",value:`${o?`${o} hr`:""}`,onClick:()=>U(),ref:u}),A&&t.jsx("div",{ref:p,children:S.map(e=>t.jsxs("p",{value:e,onClick:()=>_(e==null?void 0:e.value),children:[e==null?void 0:e.value," hr"]},e))})]}),t.jsxs("div",{children:[t.jsx("p",{children:"Intvl Tm"}),t.jsx("input",{type:"text",value:`${f?`${f} mins`:""}`,onClick:()=>B(),ref:T}),N&&t.jsx("div",{ref:h,children:q.map(e=>t.jsxs("p",{value:e,onClick:()=>Z(e),children:[e," mins"]},e))})]}),t.jsx("div",{children:Q?t.jsx("button",{style:{display:"grid",placeItems:"center"},children:t.jsx(te,{})}):t.jsx("button",{onClick:K,children:"Update"})})]}),t.jsx("div",{children:t.jsx("img",{src:"/passwordReset_img.png",alt:""})})]})]})};export{re as default};
